{"addedFiles":{},"deletedFiles":{},"modifiedFiles":{"before":{"packages/mermaid/src/diagrams/architecture/architectureDb.ts":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"module","interpreter":null,"body":[{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDiagramConfig"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}],"source":{"type":"StringLiteral","value":"../../config.type.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"DEFAULT_CONFIG"}}],"source":{"type":"StringLiteral","value":"../../defaultConfig.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getConfig"},"importKind":"value","local":{"type":"Identifier","name":"getConfig"}}],"source":{"type":"StringLiteral","value":"../../diagram-api/diagramAPI.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"D3Element"},"importKind":"value","local":{"type":"Identifier","name":"D3Element"}}],"source":{"type":"StringLiteral","value":"../../types.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ImperativeState"},"importKind":"value","local":{"type":"Identifier","name":"ImperativeState"}}],"source":{"type":"StringLiteral","value":"../../utils/imperativeState.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"clear"},"importKind":"value","local":{"type":"Identifier","name":"commonClear"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getAccDescription"},"importKind":"value","local":{"type":"Identifier","name":"getAccDescription"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getAccTitle"},"importKind":"value","local":{"type":"Identifier","name":"getAccTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getDiagramTitle"},"importKind":"value","local":{"type":"Identifier","name":"getDiagramTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setAccDescription"},"importKind":"value","local":{"type":"Identifier","name":"setAccDescription"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setAccTitle"},"importKind":"value","local":{"type":"Identifier","name":"setAccTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setDiagramTitle"},"importKind":"value","local":{"type":"Identifier","name":"setDiagramTitle"}}],"source":{"type":"StringLiteral","value":"../common/commonDb.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureAlignment"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDB"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDB"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionPair"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionPairMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureEdge"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureEdge"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroup"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureGroup"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureNode"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureNode"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureService"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureService"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureSpatialMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureSpatialMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureState"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureState"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getArchitectureDirectionAlignment"},"importKind":"value","local":{"type":"Identifier","name":"getArchitectureDirectionAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"getArchitectureDirectionPair"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirection"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirection"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureService"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureService"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}}}},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"DEFAULT_CONFIG"},"computed":false,"property":{"type":"Identifier","name":"architecture"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"state"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"ImperativeState"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureState"}}]},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"nodes"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"groups"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"registeredIds"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"config"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"dataStructures"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"undefined"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"elements"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"clear"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSVoidKeyword"}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"commonClear"},"arguments":[]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addService"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"icon"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"iconText"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"iconText"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Omit"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"edges"}}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"},{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service id [","cooked":"The service id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is already in use by another ","cooked":"] is already in use by another "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parent"},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] cannot be placed within itself","cooked":"] cannot be placed within itself"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent does not exist. Please make sure the parent is created before this service","cooked":"]'s parent does not exist. Please make sure the parent is created before this service"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"StringLiteral","value":"node"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent is not a group","cooked":"]'s parent is not a group"},"tail":true}]}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"node"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"iconText"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"iconText"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getServices"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"Identifier","name":"isArchitectureService"}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}]}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addJunction"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Omit"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"edges"}}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"node"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getJunctions"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"Identifier","name":"isArchitectureJunction"}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}]}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getNodes"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureNode"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getNode"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSUnionType","types":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureNode"}},{"type":"TSNullKeyword"}]}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addGroup"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"icon"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"},{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group id [","cooked":"The group id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is already in use by another ","cooked":"] is already in use by another "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parent"},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] cannot be placed within itself","cooked":"] cannot be placed within itself"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent does not exist. Please make sure the parent is created before this group","cooked":"]'s parent does not exist. Please make sure the parent is created before this group"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"StringLiteral","value":"node"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent is not a group","cooked":"]'s parent is not a group"},"tail":true}]}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"group"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getGroups"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}}]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addEdge"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirection"},"arguments":[{"type":"Identifier","name":"lhsDir"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"},{"type":"Identifier","name":"lhsDir"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Invalid direction given for left hand side of edge ","cooked":"Invalid direction given for left hand side of edge "},"tail":false},{"type":"TemplateElement","value":{"raw":"--","cooked":"--"},"tail":false},{"type":"TemplateElement","value":{"raw":". Expected (L,R,T,B) got ","cooked":". Expected (L,R,T,B) got "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirection"},"arguments":[{"type":"Identifier","name":"rhsDir"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"},{"type":"Identifier","name":"rhsDir"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Invalid direction given for right hand side of edge ","cooked":"Invalid direction given for right hand side of edge "},"tail":false},{"type":"TemplateElement","value":{"raw":"--","cooked":"--"},"tail":false},{"type":"TemplateElement","value":{"raw":". Expected (L,R,T,B) got ","cooked":". Expected (L,R,T,B) got "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The left-hand id [","cooked":"The left-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] does not yet exist. Please create the service/group before declaring an edge to it.","cooked":"] does not yet exist. Please create the service/group before declaring an edge to it."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The right-hand id [","cooked":"The right-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] does not yet exist. Please create the service/group before declaring an edge to it.","cooked":"] does not yet exist. Please create the service/group before declaring an edge to it."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lhsGroupId"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"computed":false,"property":{"type":"Identifier","name":"in"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rhsGroupId"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"computed":false,"property":{"type":"Identifier","name":"in"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"lhsGroup"},"operator":"&&","right":{"type":"Identifier","name":"lhsGroupId"}},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The left-hand id [","cooked":"The left-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is modified to traverse the group boundary, but the edge does not pass through two groups.","cooked":"] is modified to traverse the group boundary, but the edge does not pass through two groups."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"rhsGroup"},"operator":"&&","right":{"type":"Identifier","name":"lhsGroupId"}},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The right-hand id [","cooked":"The right-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is modified to traverse the group boundary, but the edge does not pass through two groups.","cooked":"] is modified to traverse the group boundary, but the edge does not pass through two groups."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsDir"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsInto"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsDir"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsInto"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"edge"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":true,"property":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":true,"property":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}}]}}],"directives":[]},"alternate":null}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEdges"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getDataStructures"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groupAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Exclude"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"bend"}}]}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"adjList"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prevOuter"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"service"}]}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevOuter"},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prevInner"},{"type":"Identifier","name":"edge"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lhsGroupId"},"init":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getNode"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rhsGroupId"},"init":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getNode"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsId"}}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"!==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignment"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionAlignment"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"alignment"},"operator":"!==","right":{"type":"StringLiteral","value":"bend"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"right":{"type":"Identifier","name":"alignment"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"right":{"type":"Identifier","name":"alignment"}}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"id"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pair"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionPair"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"pair"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevInner"},"computed":true,"property":{"type":"Identifier","name":"pair"}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsId"}}}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pair"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionPair"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"pair"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevInner"},"computed":true,"property":{"type":"Identifier","name":"pair"}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}}}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prevInner"}}],"directives":[]}},{"type":"ObjectExpression","properties":[]}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}}]}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prevOuter"}}],"directives":[]}},{"type":"ObjectExpression","properties":[]}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}}]}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstId"},"init":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"adjList"}]},"computed":true,"property":{"type":"NumericLiteral","value":0}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visited"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"firstId"},"shorthand":false,"value":{"type":"NumericLiteral","value":1}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"notVisited"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"adjList"}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prev"},{"type":"Identifier","name":"id"}],"body":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"firstId"}},"consequent":{"type":"Identifier","name":"prev"},"alternate":{"type":"ObjectExpression","properties":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prev"}},{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"id"},"shorthand":false,"value":{"type":"NumericLiteral","value":1}}]}}},{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSNumberKeyword"}]}}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"BFS"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"startingId","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spatialMap"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"startingId"},"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":0}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"queue"},"init":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"startingId"}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"id"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"shift"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"id"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"NumericLiteral","value":1}}},{"type":"ExpressionStatement","expression":{"type":"UnaryExpression","operator":"delete","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"notVisited"},"computed":true,"property":{"type":"Identifier","name":"id"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"adj"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"adjList"},"computed":true,"property":{"type":"Identifier","name":"id"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"posX"},{"type":"Identifier","name":"posY"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMap"},"computed":true,"property":{"type":"Identifier","name":"id"}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"adj"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"rhsId"}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"rhsId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMap"},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"posX"},{"type":"Identifier","name":"posY"}]},{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPair"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"rhsId"}]}}],"directives":[]},"alternate":null}],"directives":[]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"spatialMap"}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spatialMaps"},"init":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"BFS"},"arguments":[{"type":"Identifier","name":"firstId"}]}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"notVisited"}]},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"BFS"},"arguments":[{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"notVisited"}]},"computed":true,"property":{"type":"NumericLiteral","value":0}}]}]}}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"adjList"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"adjList"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"spatialMaps"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"spatialMaps"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"groupAlignments"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"groupAlignments"}}]}}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"setElementForId"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}},{"type":"Identifier","name":"element","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"D3Element"}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"elements"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"Identifier","name":"element"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getElementById"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"elements"}},"computed":true,"property":{"type":"Identifier","name":"id"}}}}],"kind":"const"},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"clear"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"clear"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setDiagramTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setDiagramTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getDiagramTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getDiagramTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setAccTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setAccTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getAccTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getAccTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setAccDescription"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setAccDescription"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getAccDescription"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getAccDescription"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addService"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addService"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getServices"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getServices"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addJunction"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addJunction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getJunctions"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getJunctions"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getNodes"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getNodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getNode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getNode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getGroups"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getGroups"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addEdge"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addEdge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getEdges"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getEdges"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setElementForId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setElementForId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getElementById"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getElementById"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getDataStructures"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getDataStructures"}}]}}],"kind":"const"}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getConfigField"},"generator":false,"async":false,"typeParameters":{"type":"TSTypeParameterDeclaration","params":[{"type":"TSTypeParameter","name":"T","constraint":{"type":"TSTypeOperator","operator":"keyof","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}}}]},"params":[{"type":"Identifier","name":"field","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSIndexedAccessType","objectType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}},"indexType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arch"},"init":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfig"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"architecture"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"OptionalMemberExpression","object":{"type":"Identifier","name":"arch"},"computed":true,"property":{"type":"Identifier","name":"field"},"optional":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"TSAsExpression","expression":{"type":"MemberExpression","object":{"type":"Identifier","name":"arch"},"computed":true,"property":{"type":"Identifier","name":"field"}},"typeAnnotation":{"type":"TSIndexedAccessType","objectType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}},"indexType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG"},"computed":true,"property":{"type":"Identifier","name":"field"}}}],"directives":[]}}}],"directives":[]}},"packages/mermaid/src/diagrams/architecture/architectureRenderer.ts":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"module","interpreter":null,"body":[{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"registerIconPacks"},"importKind":"value","local":{"type":"Identifier","name":"registerIconPacks"}}],"source":{"type":"StringLiteral","value":"../../rendering-util/icons.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"Position"},"importKind":"value","local":{"type":"Identifier","name":"Position"}}],"source":{"type":"StringLiteral","value":"cytoscape"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"cytoscape"}}],"source":{"type":"StringLiteral","value":"cytoscape"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"FcoseLayoutOptions"},"importKind":"value","local":{"type":"Identifier","name":"FcoseLayoutOptions"}}],"source":{"type":"StringLiteral","value":"cytoscape-fcose"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"fcose"}}],"source":{"type":"StringLiteral","value":"cytoscape-fcose"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"select"},"importKind":"value","local":{"type":"Identifier","name":"select"}}],"source":{"type":"StringLiteral","value":"d3"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"DrawDefinition"},"importKind":"value","local":{"type":"Identifier","name":"DrawDefinition"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"SVG"},"importKind":"value","local":{"type":"Identifier","name":"SVG"}}],"source":{"type":"StringLiteral","value":"../../diagram-api/types.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"Diagram"},"importKind":"value","local":{"type":"Identifier","name":"Diagram"}}],"source":{"type":"StringLiteral","value":"../../Diagram.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"log"},"importKind":"value","local":{"type":"Identifier","name":"log"}}],"source":{"type":"StringLiteral","value":"../../logger.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"selectSvgElement"},"importKind":"value","local":{"type":"Identifier","name":"selectSvgElement"}}],"source":{"type":"StringLiteral","value":"../../rendering-util/selectSvgElement.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setupGraphViewbox"},"importKind":"value","local":{"type":"Identifier","name":"setupGraphViewbox"}}],"source":{"type":"StringLiteral","value":"../../setupGraphViewbox.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getConfigField"},"importKind":"value","local":{"type":"Identifier","name":"getConfigField"}}],"source":{"type":"StringLiteral","value":"./architectureDb.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"architectureIcons"},"importKind":"value","local":{"type":"Identifier","name":"architectureIcons"}}],"source":{"type":"StringLiteral","value":"./architectureIcons.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureAlignment"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDataStructures"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDataStructures"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroupAlignments"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureGroupAlignments"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureSpatialMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureSpatialMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"EdgeSingular"},"importKind":"value","local":{"type":"Identifier","name":"EdgeSingular"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"EdgeSingularData"},"importKind":"value","local":{"type":"Identifier","name":"EdgeSingularData"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"NodeSingularData"},"importKind":"value","local":{"type":"Identifier","name":"NodeSingularData"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDB"},"local":{"type":"Identifier","name":"ArchitectureDB"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirection"},"local":{"type":"Identifier","name":"ArchitectureDirection"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureEdge"},"local":{"type":"Identifier","name":"ArchitectureEdge"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroup"},"local":{"type":"Identifier","name":"ArchitectureGroup"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureService"},"local":{"type":"Identifier","name":"ArchitectureService"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionName"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionName"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"edgeData"},"importKind":"value","local":{"type":"Identifier","name":"edgeData"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getOppositeArchitectureDirection"},"importKind":"value","local":{"type":"Identifier","name":"getOppositeArchitectureDirection"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirectionXY"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirectionXY"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirectionY"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirectionY"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"nodeData"},"importKind":"value","local":{"type":"Identifier","name":"nodeData"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawEdges"},"importKind":"value","local":{"type":"Identifier","name":"drawEdges"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawGroups"},"importKind":"value","local":{"type":"Identifier","name":"drawGroups"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawJunctions"},"importKind":"value","local":{"type":"Identifier","name":"drawJunctions"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawServices"},"importKind":"value","local":{"type":"Identifier","name":"drawServices"}}],"source":{"type":"StringLiteral","value":"./svgDraw.js"}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"registerIconPacks"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"name"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"architectureIcons"},"computed":false,"property":{"type":"Identifier","name":"prefix"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icons"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"architectureIcons"}}]}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cytoscape"},"computed":false,"property":{"type":"Identifier","name":"use"}},"arguments":[{"type":"Identifier","name":"fcose"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addServices"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"services","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"services"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"service"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"icon"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"title"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"in"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-service"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addJunctions"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"junctions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"junctions"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"junction"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"junction"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"junction"},"computed":false,"property":{"type":"Identifier","name":"in"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-junction"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"positionNodes"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"node"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"group"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"x"}},"right":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"node"},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"x"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"y"}},"right":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"node"},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"y"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nodeElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getElementById"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"id"}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"nodeElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"transform"},{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"StringLiteral","value":"translate("},"operator":"+","right":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"x"}},"operator":"||","right":{"type":"NumericLiteral","value":0}}},"operator":"+","right":{"type":"StringLiteral","value":","}},"operator":"+","right":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"y"}},"operator":"||","right":{"type":"NumericLiteral","value":0}}},"operator":"+","right":{"type":"StringLiteral","value":")"}}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addGroups"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"groups","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"groups"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"group"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"group"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"icon"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"title"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"in"}}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-group"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addEdges"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"edges","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edges"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"parsedEdge"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}]},"init":{"type":"Identifier","name":"parsedEdge"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edgeType"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirectionXY"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"parsedEdge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"parsedEdge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]},"consequent":{"type":"StringLiteral","value":"segments"},"alternate":{"type":"StringLiteral","value":"straight"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingularData"}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"source"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceDir"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceArrow"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceGroup"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceEndpoint"},"computed":false,"shorthand":false,"value":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"L"}},"consequent":{"type":"StringLiteral","value":"0 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"R"}},"consequent":{"type":"StringLiteral","value":"100% 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"T"}},"consequent":{"type":"StringLiteral","value":"50% 0"},"alternate":{"type":"StringLiteral","value":"50% 100%"}}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"target"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetDir"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetArrow"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetGroup"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetEndpoint"},"computed":false,"shorthand":false,"value":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"L"}},"consequent":{"type":"StringLiteral","value":"0 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"R"}},"consequent":{"type":"StringLiteral","value":"100% 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"T"}},"consequent":{"type":"StringLiteral","value":"50% 0"},"alternate":{"type":"StringLiteral","value":"50% 100%"}}}}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edges"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"edge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"edgeType"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getAlignments"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"Identifier","name":"spatialMaps","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}}}},{"type":"Identifier","name":"groupAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroupAlignments"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseAlignmentConstraint"}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"flattenAlignments"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"alignmentObj","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},{"type":"Identifier","name":"alignmentDir","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureAlignment"}}}}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"alignmentObj"}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prev"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"alignments"}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cnt"},"init":{"type":"NumericLiteral","value":0}}],"kind":"let"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"alignments"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"===","right":{"type":"NumericLiteral","value":1}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"NumericLiteral","value":0}},"computed":true,"property":{"type":"NumericLiteral","value":1}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prev"}}],"directives":[]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"NumericLiteral","value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"i"},"operator":"<","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}},"update":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"i"},"right":{"type":"NumericLiteral","value":1}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"aGroupId"},{"type":"Identifier","name":"aNodeIds"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"Identifier","name":"i"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"bGroupId"},{"type":"Identifier","name":"bNodeIds"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"BinaryExpression","left":{"type":"Identifier","name":"i"},"operator":"+","right":{"type":"NumericLiteral","value":1}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignment"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"aGroupId"}},"computed":true,"property":{"type":"Identifier","name":"bGroupId"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"alignment"},"operator":"===","right":{"type":"Identifier","name":"alignmentDir"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"aNodeIds"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"bNodeIds"}}]}}}],"directives":[]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyA"},"init":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"dir"},{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"cnt"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"keyA"}},"right":{"type":"Identifier","name":"aNodeIds"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyB"},"init":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"dir"},{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"cnt"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"keyB"}},"right":{"type":"Identifier","name":"bNodeIds"}}}],"directives":[]}}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prev"}}],"directives":[]}},{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}}]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignments"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMap"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"horizontalAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"verticalAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"spatialMap"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nodeGroup"},"init":{"type":"LogicalExpression","left":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getNode"}},"arguments":[{"type":"Identifier","name":"id"}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true},"operator":"??","right":{"type":"StringLiteral","value":"default"}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"id"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"id"}]}}],"directives":[]}}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horiz"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"flattenAlignments"},"arguments":[{"type":"Identifier","name":"horizontalAlignments"},{"type":"StringLiteral","value":"horizontal"}]}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"arr"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":1}}}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vert"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"flattenAlignments"},"arguments":[{"type":"Identifier","name":"verticalAlignments"},{"type":"StringLiteral","value":"vertical"}]}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"arr"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":1}}}]}}]}}],"directives":[]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"horizontal"},{"type":"Identifier","name":"vertical"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"alignments"},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"prevHoriz"},{"type":"Identifier","name":"prevVert"}]},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horiz"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"horiz"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vert"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"vert"}}]}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ArrayExpression","elements":[{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prevHoriz"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"horiz"}}]},{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prevVert"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"vert"}}]}]}}],"directives":[]}},{"type":"ArrayExpression","elements":[{"type":"TSAsExpression","expression":{"type":"ArrayExpression","elements":[]},"typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}}},{"type":"TSAsExpression","expression":{"type":"ArrayExpression","elements":[]},"typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}}}]}]}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horizontal"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"horizontal"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vertical"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"vertical"}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getRelativeConstraints"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMaps","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseRelativePlacementConstraint"}}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"relativeConstraints","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseRelativePlacementConstraint"}}}}}},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"posToStr"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"pos","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSNumberKeyword"}}}}],"body":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":true,"property":{"type":"NumericLiteral","value":0}},{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":true,"property":{"type":"NumericLiteral","value":1}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":",","cooked":","},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"strToPos"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"pos","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":false,"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"StringLiteral","value":","}]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"p"}],"body":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"Identifier","name":"p"}]}}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMap"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"invSpatialMap"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"fromEntries"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"spatialMap"}]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"pos"}]}],"body":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"Identifier","name":"pos"}]},{"type":"Identifier","name":"id"}]}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"queue"},"init":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":0}]}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visited","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSNumberKeyword"}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"directions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}},{"type":"TSArrayType","elementType":{"type":"TSNumberKeyword"}}]}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"L"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}},{"type":"NumericLiteral","value":0}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"R"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":1},{"type":"NumericLiteral","value":0}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"T"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":1}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"B"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}]}}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curr"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"shift"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"curr"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"curr"}},"right":{"type":"NumericLiteral","value":1}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currId"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"invSpatialMap"},"computed":true,"property":{"type":"Identifier","name":"curr"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"currId"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"strToPos"},"arguments":[{"type":"Identifier","name":"curr"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"directions"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"shift"}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"currPos"},"computed":true,"property":{"type":"NumericLiteral","value":0}},"operator":"+","right":{"type":"MemberExpression","object":{"type":"Identifier","name":"shift"},"computed":true,"property":{"type":"NumericLiteral","value":0}}},{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"currPos"},"computed":true,"property":{"type":"NumericLiteral","value":1}},"operator":"+","right":{"type":"MemberExpression","object":{"type":"Identifier","name":"shift"},"computed":true,"property":{"type":"NumericLiteral","value":1}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newId"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"invSpatialMap"},"computed":true,"property":{"type":"Identifier","name":"newPos"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"newId"},"operator":"&&","right":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"newPos"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"newPos"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"relativeConstraints"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"MemberExpression","object":{"type":"Identifier","name":"ArchitectureDirectionName"},"computed":true,"property":{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}}}},"shorthand":false,"value":{"type":"Identifier","name":"newId"}},{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"MemberExpression","object":{"type":"Identifier","name":"ArchitectureDirectionName"},"computed":true,"property":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOppositeArchitectureDirection"},"arguments":[{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}}}]}},"shorthand":false,"value":{"type":"Identifier","name":"currId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"gap"},"computed":false,"shorthand":false,"value":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}}]}]}}],"directives":[]},"alternate":null}],"directives":[]}}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null}],"directives":[]}}],"directives":[]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"relativeConstraints"}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"layoutArchitecture"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"services","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}}},{"type":"Identifier","name":"junctions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}}},{"type":"Identifier","name":"groups","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}},{"type":"Identifier","name":"edges","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}}},{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"spatialMaps"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"spatialMaps"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"groupAlignments"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"groupAlignments"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDataStructures"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Promise"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}]}}},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"resolve"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"renderEl"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"select"},"arguments":[{"type":"StringLiteral","value":"body"}]},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"div"}]},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"id"},{"type":"StringLiteral","value":"cy"}]},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"style"},{"type":"StringLiteral","value":"display:none"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cy"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cytoscape"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"container"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"document"},"computed":false,"property":{"type":"Identifier","name":"getElementById"}},"arguments":[{"type":"StringLiteral","value":"cy"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"curve-style"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"straight"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(label)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"source-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(sourceEndpoint)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"target-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(targetEndpoint)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edge.segments"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"curve-style"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"segments"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"segment-weights"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"0"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"segment-distances"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0.5}]}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"edge-distances"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"endpoints"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"source-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(sourceEndpoint)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"target-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(targetEndpoint)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"compound-sizing-wrt-labels"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"include"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node[label]"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"text-valign"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"bottom"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"text-halign"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"center"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"font-size"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"fontSize"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"px","cooked":"px"},"tail":true}]}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(label)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(width)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(height)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(width)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(height)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-group"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"padding"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"padding"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"px","cooked":"px"},"tail":true}]}}]}}]}]}}]}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"renderEl"},"computed":false,"property":{"type":"Identifier","name":"remove"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addGroups"},"arguments":[{"type":"Identifier","name":"groups"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addServices"},"arguments":[{"type":"Identifier","name":"services"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addJunctions"},"arguments":[{"type":"Identifier","name":"junctions"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addEdges"},"arguments":[{"type":"Identifier","name":"edges"},{"type":"Identifier","name":"cy"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignmentConstraint"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getAlignments"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"spatialMaps"},{"type":"Identifier","name":"groupAlignments"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"relativePlacementConstraint"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getRelativeConstraints"},"arguments":[{"type":"Identifier","name":"spatialMaps"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"layout"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"layout"}},"arguments":[{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"name"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"fcose"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"quality"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"proof"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"styleEnabled"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"animate"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"nodeDimensionsIncludeLabels"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"idealEdgeLength"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingular"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"nodeA"},{"type":"Identifier","name":"nodeB"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"connectedNodes"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentA"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeA"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentB"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeB"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"elasticity"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parentA"},"operator":"===","right":{"type":"Identifier","name":"parentB"}},"consequent":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},"alternate":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":0.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"elasticity"}}],"directives":[]}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"edgeElasticity"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingular"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"nodeA"},{"type":"Identifier","name":"nodeB"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"connectedNodes"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentA"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeA"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentB"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeB"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"elasticity"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parentA"},"operator":"===","right":{"type":"Identifier","name":"parentB"}},"consequent":{"type":"NumericLiteral","value":0.45},"alternate":{"type":"NumericLiteral","value":0.001}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"elasticity"}}],"directives":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"alignmentConstraint"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"alignmentConstraint"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"relativePlacementConstraint"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"relativePlacementConstraint"}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"FcoseLayoutOptions"}}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"one"}},"arguments":[{"type":"StringLiteral","value":"layoutstop"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getSegmentWeights"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"source","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Position"}}}},{"type":"Identifier","name":"target","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Position"}}}},{"type":"Identifier","name":"pointX","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSNumberKeyword"}}},{"type":"Identifier","name":"pointY","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSNumberKeyword"}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"W"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"D"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sY"}}]},"init":{"type":"Identifier","name":"source"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tY"}}]},"init":{"type":"Identifier","name":"target"}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"D"},"right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"+","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"pointX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"-","right":{"type":"Identifier","name":"tY"}}},"operator":"/","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"tX"}}}},"operator":"/","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"-","right":{"type":"Identifier","name":"tY"}},"operator":"/","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"tX"}}},{"type":"NumericLiteral","value":2}]}}]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},{"type":"NumericLiteral","value":2}]},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},{"type":"NumericLiteral","value":2}]}},"operator":"-","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"Identifier","name":"D"},{"type":"NumericLiteral","value":2}]}}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"distAB"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},{"type":"NumericLiteral","value":2}]},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},{"type":"NumericLiteral","value":2}]}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"W"},"operator":"/","right":{"type":"Identifier","name":"distAB"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta1"},"init":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}}},"operator":"-","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}}}}}],"kind":"let"},{"type":"SwitchStatement","discriminant":{"type":"BooleanLiteral","value":true},"cases":[{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta1"},"right":{"type":"NumericLiteral","value":1}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta1"},"operator":">=","right":{"type":"NumericLiteral","value":0}}},{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta1"},"right":{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta1"},"operator":"<","right":{"type":"NumericLiteral","value":0}}}]},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta2"},"init":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}}},"operator":"+","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}}}}}],"kind":"let"},{"type":"SwitchStatement","discriminant":{"type":"BooleanLiteral","value":true},"cases":[{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta2"},"right":{"type":"NumericLiteral","value":1}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta2"},"operator":">=","right":{"type":"NumericLiteral","value":0}}},{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta2"},"right":{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta2"},"operator":"<","right":{"type":"NumericLiteral","value":0}}}]},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"D"},"right":{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"Identifier","name":"D"}]},"operator":"*","right":{"type":"Identifier","name":"delta1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"W"},"operator":"*","right":{"type":"Identifier","name":"delta2"}}}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"distances"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"D"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"weights"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"W"}}]}}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"startBatch"}},"arguments":[]}},{"type":"ForOfStatement","await":false,"left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge"},"init":null}],"kind":"const"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"edges"}},"arguments":[]}]},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"OptionalCallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"data"}},"optional":true,"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sY"}}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"source"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tY"}}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"target"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"!==","right":{"type":"Identifier","name":"tX"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"!==","right":{"type":"Identifier","name":"tY"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sEP"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"sourceEndpoint"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tEP"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"targetEndpoint"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"sourceDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"sourceDir"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"edgeData"},"arguments":[{"type":"Identifier","name":"edge"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"pointX"},{"type":"Identifier","name":"pointY"}]},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirectionY"},"arguments":[{"type":"Identifier","name":"sourceDir"}]},"consequent":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","object":{"type":"Identifier","name":"sEP"},"computed":false,"property":{"type":"Identifier","name":"x"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"tEP"},"computed":false,"property":{"type":"Identifier","name":"y"}}]},"alternate":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","object":{"type":"Identifier","name":"tEP"},"computed":false,"property":{"type":"Identifier","name":"x"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"sEP"},"computed":false,"property":{"type":"Identifier","name":"y"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"weights"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"weights"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"distances"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"distances"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getSegmentWeights"},"arguments":[{"type":"Identifier","name":"sEP"},{"type":"Identifier","name":"tEP"},{"type":"Identifier","name":"pointX"},{"type":"Identifier","name":"pointY"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"style"}},"arguments":[{"type":"StringLiteral","value":"segment-distances"},{"type":"Identifier","name":"distances"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"style"}},"arguments":[{"type":"StringLiteral","value":"segment-weights"},{"type":"Identifier","name":"weights"}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"endBatch"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"run"}},"arguments":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"run"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"ready"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"log"},"computed":false,"property":{"type":"Identifier","name":"info"}},"arguments":[{"type":"StringLiteral","value":"Ready"},{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolve"},"arguments":[{"type":"Identifier","name":"cy"}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"draw","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"DrawDefinition"}}}},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":true,"params":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"id"},{"type":"Identifier","name":"_version"},{"type":"Identifier","name":"diagObj","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Diagram"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"db"},"init":{"type":"TSAsExpression","expression":{"type":"MemberExpression","object":{"type":"Identifier","name":"diagObj"},"computed":false,"property":{"type":"Identifier","name":"db"}},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"services"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getServices"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"junctions"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getJunctions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groups"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getGroups"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getEdges"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ds"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getDataStructures"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"svg","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"SVG"}}}},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectSvgElement"},"arguments":[{"type":"Identifier","name":"id"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edgesElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edgesElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-edges"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"servicesElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"servicesElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-services"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groupElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-groups"}]}},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawServices"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"servicesElem"},{"type":"Identifier","name":"services"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawJunctions"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"servicesElem"},{"type":"Identifier","name":"junctions"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cy"},"init":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"layoutArchitecture"},"arguments":[{"type":"Identifier","name":"services"},{"type":"Identifier","name":"junctions"},{"type":"Identifier","name":"groups"},{"type":"Identifier","name":"edges"},{"type":"Identifier","name":"db"},{"type":"Identifier","name":"ds"}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawEdges"},"arguments":[{"type":"Identifier","name":"edgesElem"},{"type":"Identifier","name":"cy"}]}}},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawGroups"},"arguments":[{"type":"Identifier","name":"groupElem"},{"type":"Identifier","name":"cy"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"positionNodes"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setupGraphViewbox"},"arguments":[{"type":"Identifier","name":"undefined"},{"type":"Identifier","name":"svg"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"padding"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"useMaxWidth"}]}]}}],"directives":[]}}}],"kind":"const"}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"renderer"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"draw"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"draw"}}]}}],"kind":"const"}}],"directives":[]}}},"after":{"packages/mermaid/src/diagrams/architecture/architectureDb.ts":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"module","interpreter":null,"body":[{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDiagramConfig"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}],"source":{"type":"StringLiteral","value":"../../config.type.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"DEFAULT_CONFIG"}}],"source":{"type":"StringLiteral","value":"../../defaultConfig.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getConfig"},"importKind":"value","local":{"type":"Identifier","name":"getConfig"}}],"source":{"type":"StringLiteral","value":"../../diagram-api/diagramAPI.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"D3Element"},"importKind":"value","local":{"type":"Identifier","name":"D3Element"}}],"source":{"type":"StringLiteral","value":"../../types.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ImperativeState"},"importKind":"value","local":{"type":"Identifier","name":"ImperativeState"}}],"source":{"type":"StringLiteral","value":"../../utils/imperativeState.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"clear"},"importKind":"value","local":{"type":"Identifier","name":"commonClear"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getAccDescription"},"importKind":"value","local":{"type":"Identifier","name":"getAccDescription"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getAccTitle"},"importKind":"value","local":{"type":"Identifier","name":"getAccTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getDiagramTitle"},"importKind":"value","local":{"type":"Identifier","name":"getDiagramTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setAccDescription"},"importKind":"value","local":{"type":"Identifier","name":"setAccDescription"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setAccTitle"},"importKind":"value","local":{"type":"Identifier","name":"setAccTitle"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setDiagramTitle"},"importKind":"value","local":{"type":"Identifier","name":"setDiagramTitle"}}],"source":{"type":"StringLiteral","value":"../common/commonDb.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureAlignment"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDB"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDB"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionPair"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionPairMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureEdge"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureEdge"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroup"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureGroup"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureNode"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureNode"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureService"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureService"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureSpatialMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureSpatialMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureState"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureState"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getArchitectureDirectionAlignment"},"importKind":"value","local":{"type":"Identifier","name":"getArchitectureDirectionAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"getArchitectureDirectionPair"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirection"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirection"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureService"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureService"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"},"importKind":"value","local":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}}}},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"DEFAULT_CONFIG"},"computed":false,"property":{"type":"Identifier","name":"architecture"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"state"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"ImperativeState"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureState"}}]},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"nodes"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"groups"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"registeredIds"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"config"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"dataStructures"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"undefined"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"elements"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[]}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"clear"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSVoidKeyword"}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"reset"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"commonClear"},"arguments":[]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addService"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"icon"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"iconText"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"iconText"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Omit"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"edges"}}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"},{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service id [","cooked":"The service id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is already in use by another ","cooked":"] is already in use by another "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parent"},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] cannot be placed within itself","cooked":"] cannot be placed within itself"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent does not exist. Please make sure the parent is created before this service","cooked":"]'s parent does not exist. Please make sure the parent is created before this service"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"StringLiteral","value":"node"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The service [","cooked":"The service ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent is not a group","cooked":"]'s parent is not a group"},"tail":true}]}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"node"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"iconText"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"iconText"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getServices"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"Identifier","name":"isArchitectureService"}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}]}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addJunction"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Omit"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"edges"}}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"node"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"edges"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getJunctions"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"Identifier","name":"isArchitectureJunction"}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}]}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getNodes"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureNode"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getNode"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSUnionType","types":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureNode"}},{"type":"TSNullKeyword"}]}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"id"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addGroup"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"id"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"icon"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"in"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"},{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group id [","cooked":"The group id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is already in use by another ","cooked":"] is already in use by another "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parent"},"operator":"!==","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"parent"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] cannot be placed within itself","cooked":"] cannot be placed within itself"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent does not exist. Please make sure the parent is created before this group","cooked":"]'s parent does not exist. Please make sure the parent is created before this group"},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"parent"}},"operator":"===","right":{"type":"StringLiteral","value":"node"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"id"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The group [","cooked":"The group ["},"tail":false},{"type":"TemplateElement","value":{"raw":"]'s parent is not a group","cooked":"]'s parent is not a group"},"tail":true}]}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"registeredIds"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"StringLiteral","value":"group"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"id"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"icon"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"in"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"parent"}}]}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getGroups"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}}]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"addEdge"},"init":{"type":"FunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"}]}}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirection"},"arguments":[{"type":"Identifier","name":"lhsDir"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"},{"type":"Identifier","name":"lhsDir"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Invalid direction given for left hand side of edge ","cooked":"Invalid direction given for left hand side of edge "},"tail":false},{"type":"TemplateElement","value":{"raw":"--","cooked":"--"},"tail":false},{"type":"TemplateElement","value":{"raw":". Expected (L,R,T,B) got ","cooked":". Expected (L,R,T,B) got "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirection"},"arguments":[{"type":"Identifier","name":"rhsDir"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"},{"type":"Identifier","name":"rhsDir"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Invalid direction given for right hand side of edge ","cooked":"Invalid direction given for right hand side of edge "},"tail":false},{"type":"TemplateElement","value":{"raw":"--","cooked":"--"},"tail":false},{"type":"TemplateElement","value":{"raw":". Expected (L,R,T,B) got ","cooked":". Expected (L,R,T,B) got "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The left-hand id [","cooked":"The left-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] does not yet exist. Please create the service/group before declaring an edge to it.","cooked":"] does not yet exist. Please create the service/group before declaring an edge to it."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"groups"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The right-hand id [","cooked":"The right-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] does not yet exist. Please create the service/group before declaring an edge to it.","cooked":"] does not yet exist. Please create the service/group before declaring an edge to it."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lhsGroupId"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"computed":false,"property":{"type":"Identifier","name":"in"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rhsGroupId"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"computed":false,"property":{"type":"Identifier","name":"in"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"lhsGroup"},"operator":"&&","right":{"type":"Identifier","name":"lhsGroupId"}},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The left-hand id [","cooked":"The left-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is modified to traverse the group boundary, but the edge does not pass through two groups.","cooked":"] is modified to traverse the group boundary, but the edge does not pass through two groups."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"rhsGroup"},"operator":"&&","right":{"type":"Identifier","name":"lhsGroupId"}},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"The right-hand id [","cooked":"The right-hand id ["},"tail":false},{"type":"TemplateElement","value":{"raw":"] is modified to traverse the group boundary, but the edge does not pass through two groups.","cooked":"] is modified to traverse the group boundary, but the edge does not pass through two groups."},"tail":true}]}]}}],"directives":[]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsDir"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsInto"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsDir"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsInto"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"title"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"edge"}]}},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"lhsId"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":true,"property":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":true,"property":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}}]}}],"directives":[]},"alternate":null}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEdges"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"edges"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getDataStructures"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groupAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Exclude"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"TSLiteralType","literal":{"type":"StringLiteral","value":"bend"}}]}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"adjList"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"nodes"}}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prevOuter"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"service"}]}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevOuter"},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"edges"}},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prevInner"},{"type":"Identifier","name":"edge"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lhsGroupId"},"init":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getNode"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rhsGroupId"},"init":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getNode"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsId"}}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"LogicalExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"&&","right":{"type":"Identifier","name":"rhsGroupId"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsGroupId"},"operator":"!==","right":{"type":"Identifier","name":"rhsGroupId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignment"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionAlignment"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"alignment"},"operator":"!==","right":{"type":"StringLiteral","value":"bend"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"right":{"type":"Identifier","name":"alignment"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"rhsGroupId"}},"computed":true,"property":{"type":"Identifier","name":"lhsGroupId"}},"right":{"type":"Identifier","name":"alignment"}}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}},"operator":"===","right":{"type":"Identifier","name":"id"}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pair"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionPair"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"pair"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevInner"},"computed":true,"property":{"type":"Identifier","name":"pair"}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsId"}}}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pair"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getArchitectureDirectionPair"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"pair"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prevInner"},"computed":true,"property":{"type":"Identifier","name":"pair"}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"lhsId"}}}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prevInner"}}],"directives":[]}},{"type":"ObjectExpression","properties":[]}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}}]}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prevOuter"}}],"directives":[]}},{"type":"ObjectExpression","properties":[]}],"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPairMap"}}]}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"firstId"},"init":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"adjList"}]},"computed":true,"property":{"type":"NumericLiteral","value":0}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visited"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"firstId"},"shorthand":false,"value":{"type":"NumericLiteral","value":1}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"notVisited"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"adjList"}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prev"},{"type":"Identifier","name":"id"}],"body":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"id"},"operator":"===","right":{"type":"Identifier","name":"firstId"}},"consequent":{"type":"Identifier","name":"prev"},"alternate":{"type":"ObjectExpression","properties":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prev"}},{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"id"},"shorthand":false,"value":{"type":"NumericLiteral","value":1}}]}}},{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSNumberKeyword"}]}}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"BFS"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"startingId","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spatialMap"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"Identifier","name":"startingId"},"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":0}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"queue"},"init":{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"startingId"}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"id"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"shift"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"id"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"NumericLiteral","value":1}}},{"type":"ExpressionStatement","expression":{"type":"UnaryExpression","operator":"delete","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"notVisited"},"computed":true,"property":{"type":"Identifier","name":"id"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"adj"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"adjList"},"computed":true,"property":{"type":"Identifier","name":"id"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"posX"},{"type":"Identifier","name":"posY"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMap"},"computed":true,"property":{"type":"Identifier","name":"id"}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"adj"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"rhsId"}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"rhsId"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMap"},"computed":true,"property":{"type":"Identifier","name":"rhsId"}},"right":{"type":"CallExpression","callee":{"type":"Identifier","name":"shiftPositionByArchitectureDirectionPair"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"Identifier","name":"posX"},{"type":"Identifier","name":"posY"}]},{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirectionPair"}}}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"rhsId"}]}}],"directives":[]},"alternate":null}],"directives":[]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"spatialMap"}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"spatialMaps"},"init":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"BFS"},"arguments":[{"type":"Identifier","name":"firstId"}]}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"notVisited"}]},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"BFS"},"arguments":[{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"keys"}},"arguments":[{"type":"Identifier","name":"notVisited"}]},"computed":true,"property":{"type":"NumericLiteral","value":0}}]}]}}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}},"right":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"adjList"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"adjList"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"spatialMaps"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"spatialMaps"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"groupAlignments"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"groupAlignments"}}]}}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"dataStructures"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"setElementForId"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}},{"type":"Identifier","name":"element","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"D3Element"}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"elements"}},"computed":true,"property":{"type":"Identifier","name":"id"}},"right":{"type":"Identifier","name":"element"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getElementById"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"id","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"state"},"computed":false,"property":{"type":"Identifier","name":"records"}},"computed":false,"property":{"type":"Identifier","name":"elements"}},"computed":true,"property":{"type":"Identifier","name":"id"}}}}],"kind":"const"},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"clear"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"clear"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setDiagramTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setDiagramTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getDiagramTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getDiagramTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setAccTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setAccTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getAccTitle"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getAccTitle"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setAccDescription"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setAccDescription"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getAccDescription"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getAccDescription"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addService"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addService"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getServices"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getServices"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addJunction"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addJunction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getJunctions"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getJunctions"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getNodes"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getNodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getNode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getNode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addGroup"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getGroups"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getGroups"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"addEdge"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"addEdge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getEdges"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getEdges"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"setElementForId"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"setElementForId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getElementById"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getElementById"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"getDataStructures"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"getDataStructures"}}]}}],"kind":"const"}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getConfigField"},"generator":false,"async":false,"typeParameters":{"type":"TSTypeParameterDeclaration","params":[{"type":"TSTypeParameter","name":"T","constraint":{"type":"TSTypeOperator","operator":"keyof","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}}}]},"params":[{"type":"Identifier","name":"field","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSIndexedAccessType","objectType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}},"indexType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arch"},"init":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfig"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"architecture"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"OptionalMemberExpression","object":{"type":"Identifier","name":"arch"},"computed":true,"property":{"type":"Identifier","name":"field"},"optional":true},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"TSAsExpression","expression":{"type":"MemberExpression","object":{"type":"Identifier","name":"arch"},"computed":true,"property":{"type":"Identifier","name":"field"}},"typeAnnotation":{"type":"TSIndexedAccessType","objectType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Required"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDiagramConfig"}}]}},"indexType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"T"}}}}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"DEFAULT_ARCHITECTURE_CONFIG"},"computed":true,"property":{"type":"Identifier","name":"field"}}}],"directives":[]}}}],"directives":[]}},"packages/mermaid/src/diagrams/architecture/architectureRenderer.ts":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"module","interpreter":null,"body":[{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"registerIconPacks"},"importKind":"value","local":{"type":"Identifier","name":"registerIconPacks"}}],"source":{"type":"StringLiteral","value":"../../rendering-util/icons.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"Position"},"importKind":"value","local":{"type":"Identifier","name":"Position"}}],"source":{"type":"StringLiteral","value":"cytoscape"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"cytoscape"}}],"source":{"type":"StringLiteral","value":"cytoscape"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"FcoseLayoutOptions"},"importKind":"value","local":{"type":"Identifier","name":"FcoseLayoutOptions"}}],"source":{"type":"StringLiteral","value":"cytoscape-fcose"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportDefaultSpecifier","local":{"type":"Identifier","name":"fcose"}}],"source":{"type":"StringLiteral","value":"cytoscape-fcose"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"select"},"importKind":"value","local":{"type":"Identifier","name":"select"}}],"source":{"type":"StringLiteral","value":"d3"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"DrawDefinition"},"importKind":"value","local":{"type":"Identifier","name":"DrawDefinition"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"SVG"},"importKind":"value","local":{"type":"Identifier","name":"SVG"}}],"source":{"type":"StringLiteral","value":"../../diagram-api/types.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"Diagram"},"importKind":"value","local":{"type":"Identifier","name":"Diagram"}}],"source":{"type":"StringLiteral","value":"../../Diagram.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"log"},"importKind":"value","local":{"type":"Identifier","name":"log"}}],"source":{"type":"StringLiteral","value":"../../logger.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"selectSvgElement"},"importKind":"value","local":{"type":"Identifier","name":"selectSvgElement"}}],"source":{"type":"StringLiteral","value":"../../rendering-util/selectSvgElement.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"setupGraphViewbox"},"importKind":"value","local":{"type":"Identifier","name":"setupGraphViewbox"}}],"source":{"type":"StringLiteral","value":"../../setupGraphViewbox.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getConfigField"},"importKind":"value","local":{"type":"Identifier","name":"getConfigField"}}],"source":{"type":"StringLiteral","value":"./architectureDb.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"architectureIcons"},"importKind":"value","local":{"type":"Identifier","name":"architectureIcons"}}],"source":{"type":"StringLiteral","value":"./architectureIcons.js"}},{"type":"ImportDeclaration","importKind":"type","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureAlignment"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureAlignment"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDataStructures"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDataStructures"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroupAlignments"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureGroupAlignments"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureJunction"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureJunction"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureSpatialMap"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureSpatialMap"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"EdgeSingular"},"importKind":"value","local":{"type":"Identifier","name":"EdgeSingular"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"EdgeSingularData"},"importKind":"value","local":{"type":"Identifier","name":"EdgeSingularData"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"NodeSingularData"},"importKind":"value","local":{"type":"Identifier","name":"NodeSingularData"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDB"},"local":{"type":"Identifier","name":"ArchitectureDB"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirection"},"local":{"type":"Identifier","name":"ArchitectureDirection"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureEdge"},"local":{"type":"Identifier","name":"ArchitectureEdge"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureGroup"},"local":{"type":"Identifier","name":"ArchitectureGroup"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureService"},"local":{"type":"Identifier","name":"ArchitectureService"},"importKind":"type"},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"ArchitectureDirectionName"},"importKind":"value","local":{"type":"Identifier","name":"ArchitectureDirectionName"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"edgeData"},"importKind":"value","local":{"type":"Identifier","name":"edgeData"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"getOppositeArchitectureDirection"},"importKind":"value","local":{"type":"Identifier","name":"getOppositeArchitectureDirection"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirectionXY"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirectionXY"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"isArchitectureDirectionY"},"importKind":"value","local":{"type":"Identifier","name":"isArchitectureDirectionY"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"nodeData"},"importKind":"value","local":{"type":"Identifier","name":"nodeData"}}],"source":{"type":"StringLiteral","value":"./architectureTypes.js"}},{"type":"ImportDeclaration","importKind":"value","specifiers":[{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawEdges"},"importKind":"value","local":{"type":"Identifier","name":"drawEdges"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawGroups"},"importKind":"value","local":{"type":"Identifier","name":"drawGroups"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawJunctions"},"importKind":"value","local":{"type":"Identifier","name":"drawJunctions"}},{"type":"ImportSpecifier","imported":{"type":"Identifier","name":"drawServices"},"importKind":"value","local":{"type":"Identifier","name":"drawServices"}}],"source":{"type":"StringLiteral","value":"./svgDraw.js"}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"registerIconPacks"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"name"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"architectureIcons"},"computed":false,"property":{"type":"Identifier","name":"prefix"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icons"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"architectureIcons"}}]}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cytoscape"},"computed":false,"property":{"type":"Identifier","name":"use"}},"arguments":[{"type":"Identifier","name":"fcose"}]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addServices"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"services","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"services"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"service"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"icon"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"title"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"service"},"computed":false,"property":{"type":"Identifier","name":"in"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-service"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addJunctions"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"junctions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"junctions"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"junction"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"junction"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"junction"},"computed":false,"property":{"type":"Identifier","name":"in"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-junction"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"positionNodes"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"nodes"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"node"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"data"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"node"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"group"}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"x"}},"right":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"node"},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"x"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"y"}},"right":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"node"},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"y"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nodeElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getElementById"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"id"}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"nodeElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"transform"},{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"StringLiteral","value":"translate("},"operator":"+","right":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"x"}},"operator":"||","right":{"type":"NumericLiteral","value":0}}},"operator":"+","right":{"type":"StringLiteral","value":","}},"operator":"+","right":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"data"},"computed":false,"property":{"type":"Identifier","name":"y"}},"operator":"||","right":{"type":"NumericLiteral","value":0}}},"operator":"+","right":{"type":"StringLiteral","value":")"}}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addGroups"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"groups","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"groups"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"group"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"nodes"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"group"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"id"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"icon"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"icon"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"title"}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"parent"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"group"},"computed":false,"property":{"type":"Identifier","name":"in"}}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"NodeSingularData"}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node-group"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"addEdges"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"edges","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}}},{"type":"Identifier","name":"cy","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edges"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"parsedEdge"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsId"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsInto"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"lhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"rhsGroup"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"title"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"title"}}]},"init":{"type":"Identifier","name":"parsedEdge"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edgeType"},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirectionXY"},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"parsedEdge"},"computed":false,"property":{"type":"Identifier","name":"lhsDir"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"parsedEdge"},"computed":false,"property":{"type":"Identifier","name":"rhsDir"}}]},"consequent":{"type":"StringLiteral","value":"segments"},"alternate":{"type":"StringLiteral","value":"straight"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingularData"}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"lhsId"},{"type":"Identifier","name":"rhsId"}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"title"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"source"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceDir"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceArrow"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceGroup"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"lhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"sourceEndpoint"},"computed":false,"shorthand":false,"value":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"L"}},"consequent":{"type":"StringLiteral","value":"0 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"R"}},"consequent":{"type":"StringLiteral","value":"100% 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"lhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"T"}},"consequent":{"type":"StringLiteral","value":"50% 0"},"alternate":{"type":"StringLiteral","value":"50% 100%"}}}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"target"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetDir"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsDir"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetArrow"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsInto"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetGroup"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"rhsGroup"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"targetEndpoint"},"computed":false,"shorthand":false,"value":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"L"}},"consequent":{"type":"StringLiteral","value":"0 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"R"}},"consequent":{"type":"StringLiteral","value":"100% 50%"},"alternate":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"rhsDir"},"operator":"===","right":{"type":"StringLiteral","value":"T"}},"consequent":{"type":"StringLiteral","value":"50% 0"},"alternate":{"type":"StringLiteral","value":"50% 100%"}}}}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"group"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edges"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"data"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"edge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"classes"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"edgeType"}}]}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getAlignments"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"Identifier","name":"spatialMaps","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}}}},{"type":"Identifier","name":"groupAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroupAlignments"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseAlignmentConstraint"}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"flattenAlignments"},"init":{"type":"ArrowFunctionExpression","returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"alignmentObj","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},{"type":"Identifier","name":"alignmentDir","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureAlignment"}}}}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"alignmentObj"}]},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"prev"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"alignments"}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cnt"},"init":{"type":"NumericLiteral","value":0}}],"kind":"let"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"arr"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"alignments"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"===","right":{"type":"NumericLiteral","value":1}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"NumericLiteral","value":0}},"computed":true,"property":{"type":"NumericLiteral","value":1}}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prev"}}],"directives":[]},"alternate":null},{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i"},"init":{"type":"NumericLiteral","value":0}}],"kind":"let"},"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"i"},"operator":"<","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":"-","right":{"type":"NumericLiteral","value":1}}},"update":{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"i"}},"body":{"type":"BlockStatement","body":[{"type":"ForStatement","init":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"j"},"init":{"type":"BinaryExpression","left":{"type":"Identifier","name":"i"},"operator":"+","right":{"type":"NumericLiteral","value":1}}}],"kind":"let"},"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"j"},"operator":"<","right":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}}},"update":{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"j"}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"aGroupId"},{"type":"Identifier","name":"aNodeIds"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"Identifier","name":"i"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"bGroupId"},{"type":"Identifier","name":"bNodeIds"}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":true,"property":{"type":"Identifier","name":"j"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignment"},"init":{"type":"OptionalMemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupAlignments"},"computed":true,"property":{"type":"Identifier","name":"aGroupId"}},"computed":true,"property":{"type":"Identifier","name":"bGroupId"},"optional":true}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"alignment"},"operator":"===","right":{"type":"Identifier","name":"alignmentDir"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"aNodeIds"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"bNodeIds"}}]}}}],"directives":[]},"alternate":{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"aGroupId"},"operator":"===","right":{"type":"StringLiteral","value":"default"}},"operator":"||","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"bGroupId"},"operator":"===","right":{"type":"StringLiteral","value":"default"}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}},"right":{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"dir"}}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"aNodeIds"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"bNodeIds"}}]}}}],"directives":[]},"alternate":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyA"},"init":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"dir"},{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"cnt"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"keyA"}},"right":{"type":"Identifier","name":"aNodeIds"}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"keyB"},"init":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"dir"},{"type":"UpdateExpression","operator":"++","prefix":false,"argument":{"type":"Identifier","name":"cnt"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"prev"},"computed":true,"property":{"type":"Identifier","name":"keyB"}},"right":{"type":"Identifier","name":"bNodeIds"}}}],"directives":[]}}}],"directives":[]}}],"directives":[]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"prev"}}],"directives":[]}},{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}}]}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignments"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMap"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"horizontalAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"verticalAlignments","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSNumberKeyword"},{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}]}}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"spatialMap"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"x"},{"type":"Identifier","name":"y"}]}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"nodeGroup"},"init":{"type":"LogicalExpression","left":{"type":"OptionalMemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getNode"}},"arguments":[{"type":"Identifier","name":"id"}]},"computed":false,"property":{"type":"Identifier","name":"in"},"optional":true},"operator":"??","right":{"type":"StringLiteral","value":"default"}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"horizontalAlignments"},"computed":true,"property":{"type":"Identifier","name":"y"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"id"}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"right":{"type":"ObjectExpression","properties":[]}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"??=","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"right":{"type":"ArrayExpression","elements":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"verticalAlignments"},"computed":true,"property":{"type":"Identifier","name":"x"}},"computed":true,"property":{"type":"Identifier","name":"nodeGroup"}},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"id"}]}}],"directives":[]}}]}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horiz"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"flattenAlignments"},"arguments":[{"type":"Identifier","name":"horizontalAlignments"},{"type":"StringLiteral","value":"horizontal"}]}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"arr"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":1}}}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vert"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"flattenAlignments"},"arguments":[{"type":"Identifier","name":"verticalAlignments"},{"type":"StringLiteral","value":"vertical"}]}]},"computed":false,"property":{"type":"Identifier","name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"arr"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"arr"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":1}}}]}}]}}],"directives":[]}}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"horizontal"},{"type":"Identifier","name":"vertical"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"alignments"},"computed":false,"property":{"type":"Identifier","name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"prevHoriz"},{"type":"Identifier","name":"prevVert"}]},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horiz"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"horiz"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vert"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"vert"}}]}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"ArrayExpression","elements":[{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prevHoriz"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"horiz"}}]},{"type":"ArrayExpression","elements":[{"type":"SpreadElement","argument":{"type":"Identifier","name":"prevVert"}},{"type":"SpreadElement","argument":{"type":"Identifier","name":"vert"}}]}]}}],"directives":[]}},{"type":"ArrayExpression","elements":[{"type":"TSAsExpression","expression":{"type":"ArrayExpression","elements":[]},"typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}}},{"type":"TSAsExpression","expression":{"type":"ArrayExpression","elements":[]},"typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSArrayType","elementType":{"type":"TSStringKeyword"}}}}]}]}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"horizontal"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"horizontal"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"vertical"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"vertical"}}]}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getRelativeConstraints"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMaps","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureSpatialMap"}}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseRelativePlacementConstraint"}}}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"relativeConstraints","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"fcose"},"right":{"type":"Identifier","name":"FcoseRelativePlacementConstraint"}}}}}},"init":{"type":"ArrayExpression","elements":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"posToStr"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"pos","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSNumberKeyword"}}}}],"body":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":true,"property":{"type":"NumericLiteral","value":0}},{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":true,"property":{"type":"NumericLiteral","value":1}}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":",","cooked":","},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"strToPos"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"pos","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSStringKeyword"}}}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pos"},"computed":false,"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"StringLiteral","value":","}]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"p"}],"body":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"Identifier","name":"p"}]}}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"spatialMaps"},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"spatialMap"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"invSpatialMap"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"fromEntries"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"spatialMap"}]},"computed":false,"property":{"type":"Identifier","name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"pos"}]}],"body":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"Identifier","name":"pos"}]},{"type":"Identifier","name":"id"}]}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"queue"},"init":{"type":"ArrayExpression","elements":[{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":0}]}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"visited","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSStringKeyword"},{"type":"TSNumberKeyword"}]}}}},"init":{"type":"ObjectExpression","properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"directions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Record"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}},{"type":"TSArrayType","elementType":{"type":"TSNumberKeyword"}}]}}}},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"L"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}},{"type":"NumericLiteral","value":0}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"R"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":1},{"type":"NumericLiteral","value":0}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"T"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"NumericLiteral","value":1}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"B"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0},{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}]}}]}}],"kind":"const"},{"type":"WhileStatement","test":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"length"}},"operator":">","right":{"type":"NumericLiteral","value":0}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"curr"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"shift"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"curr"},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"curr"}},"right":{"type":"NumericLiteral","value":1}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currId"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"invSpatialMap"},"computed":true,"property":{"type":"Identifier","name":"curr"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"Identifier","name":"currId"},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"strToPos"},"arguments":[{"type":"Identifier","name":"curr"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"entries"}},"arguments":[{"type":"Identifier","name":"directions"}]},"computed":false,"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"dir"},{"type":"Identifier","name":"shift"}]}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newPos"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"posToStr"},"arguments":[{"type":"ArrayExpression","elements":[{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"currPos"},"computed":true,"property":{"type":"NumericLiteral","value":0}},"operator":"+","right":{"type":"MemberExpression","object":{"type":"Identifier","name":"shift"},"computed":true,"property":{"type":"NumericLiteral","value":0}}},{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"currPos"},"computed":true,"property":{"type":"NumericLiteral","value":1}},"operator":"+","right":{"type":"MemberExpression","object":{"type":"Identifier","name":"shift"},"computed":true,"property":{"type":"NumericLiteral","value":1}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"newId"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"invSpatialMap"},"computed":true,"property":{"type":"Identifier","name":"newPos"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"newId"},"operator":"&&","right":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"MemberExpression","object":{"type":"Identifier","name":"visited"},"computed":true,"property":{"type":"Identifier","name":"newPos"}}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"queue"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"Identifier","name":"newPos"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"relativeConstraints"},"computed":false,"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"MemberExpression","object":{"type":"Identifier","name":"ArchitectureDirectionName"},"computed":true,"property":{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}}}},"shorthand":false,"value":{"type":"Identifier","name":"newId"}},{"type":"ObjectProperty","method":false,"computed":true,"key":{"type":"MemberExpression","object":{"type":"Identifier","name":"ArchitectureDirectionName"},"computed":true,"property":{"type":"CallExpression","callee":{"type":"Identifier","name":"getOppositeArchitectureDirection"},"arguments":[{"type":"TSAsExpression","expression":{"type":"Identifier","name":"dir"},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDirection"}}}]}},"shorthand":false,"value":{"type":"Identifier","name":"currId"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"gap"},"computed":false,"shorthand":false,"value":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}}]}]}}],"directives":[]},"alternate":null}],"directives":[]}}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null}],"directives":[]}}],"directives":[]}}]}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"relativeConstraints"}}],"directives":[]}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"layoutArchitecture"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"services","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureService"}}}}},{"type":"Identifier","name":"junctions","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureJunction"}}}}},{"type":"Identifier","name":"groups","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureGroup"}}}}},{"type":"Identifier","name":"edges","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSArrayType","elementType":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureEdge"}}}}},{"type":"Identifier","name":"db","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"spatialMaps"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"spatialMaps"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"groupAlignments"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"groupAlignments"}}],"typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDataStructures"}}}}],"returnType":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Promise"},"typeParameters":{"type":"TSTypeParameterInstantiation","params":[{"type":"TSTypeReference","typeName":{"type":"TSQualifiedName","left":{"type":"Identifier","name":"cytoscape"},"right":{"type":"Identifier","name":"Core"}}}]}}},"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"resolve"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"renderEl"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"select"},"arguments":[{"type":"StringLiteral","value":"body"}]},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"div"}]},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"id"},{"type":"StringLiteral","value":"cy"}]},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"style"},{"type":"StringLiteral","value":"display:none"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cy"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"cytoscape"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"container"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"document"},"computed":false,"property":{"type":"Identifier","name":"getElementById"}},"arguments":[{"type":"StringLiteral","value":"cy"}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edge"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"curve-style"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"straight"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(label)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"source-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(sourceEndpoint)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"target-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(targetEndpoint)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"edge.segments"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"curve-style"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"segments"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"segment-weights"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"0"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"segment-distances"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","elements":[{"type":"NumericLiteral","value":0.5}]}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"edge-distances"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"endpoints"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"source-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(sourceEndpoint)"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"target-endpoint"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(targetEndpoint)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"compound-sizing-wrt-labels"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"include"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"node[label]"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"text-valign"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"bottom"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"text-halign"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"center"}},{"type":"ObjectProperty","method":false,"key":{"type":"StringLiteral","value":"font-size"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"fontSize"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"px","cooked":"px"},"tail":true}]}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-service"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"label"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(label)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(width)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(height)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-junction"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"width"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(width)"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"height"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"data(height)"}}]}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"selector"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":".node-group"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"style"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"padding"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"padding"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":"px","cooked":"px"},"tail":true}]}}]}}]}]}}]}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"renderEl"},"computed":false,"property":{"type":"Identifier","name":"remove"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addGroups"},"arguments":[{"type":"Identifier","name":"groups"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addServices"},"arguments":[{"type":"Identifier","name":"services"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addJunctions"},"arguments":[{"type":"Identifier","name":"junctions"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"addEdges"},"arguments":[{"type":"Identifier","name":"edges"},{"type":"Identifier","name":"cy"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alignmentConstraint"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getAlignments"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"spatialMaps"},{"type":"Identifier","name":"groupAlignments"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"relativePlacementConstraint"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getRelativeConstraints"},"arguments":[{"type":"Identifier","name":"spatialMaps"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"layout"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"layout"}},"arguments":[{"type":"TSAsExpression","expression":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"name"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"fcose"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"quality"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"proof"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"styleEnabled"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"animate"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"nodeDimensionsIncludeLabels"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"idealEdgeLength"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingular"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"nodeA"},{"type":"Identifier","name":"nodeB"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"connectedNodes"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentA"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeA"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentB"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeB"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"elasticity"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parentA"},"operator":"===","right":{"type":"Identifier","name":"parentB"}},"consequent":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}},"alternate":{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":0.5},"operator":"*","right":{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"iconSize"}]}}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"elasticity"}}],"directives":[]}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"edgeElasticity"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"edge","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"EdgeSingular"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"nodeA"},{"type":"Identifier","name":"nodeB"}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"connectedNodes"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentA"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeA"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"parent"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"parentB"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"nodeData"},"arguments":[{"type":"Identifier","name":"nodeB"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"elasticity"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"parentA"},"operator":"===","right":{"type":"Identifier","name":"parentB"}},"consequent":{"type":"NumericLiteral","value":0.45},"alternate":{"type":"NumericLiteral","value":0.001}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"elasticity"}}],"directives":[]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"alignmentConstraint"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"alignmentConstraint"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"relativePlacementConstraint"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"relativePlacementConstraint"}}]},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"FcoseLayoutOptions"}}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"one"}},"arguments":[{"type":"StringLiteral","value":"layoutstop"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getSegmentWeights"},"generator":false,"async":false,"params":[{"type":"Identifier","name":"source","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Position"}}}},{"type":"Identifier","name":"target","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Position"}}}},{"type":"Identifier","name":"pointX","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSNumberKeyword"}}},{"type":"Identifier","name":"pointY","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSNumberKeyword"}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"W"},"init":null},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"D"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sY"}}]},"init":{"type":"Identifier","name":"source"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tY"}}]},"init":{"type":"Identifier","name":"target"}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"D"},"right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"+","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"pointX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"-","right":{"type":"Identifier","name":"tY"}}},"operator":"/","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"tX"}}}},"operator":"/","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"NumericLiteral","value":1},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"-","right":{"type":"Identifier","name":"tY"}},"operator":"/","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"-","right":{"type":"Identifier","name":"tX"}}},{"type":"NumericLiteral","value":2}]}}]}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},{"type":"NumericLiteral","value":2}]},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},{"type":"NumericLiteral","value":2}]}},"operator":"-","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"Identifier","name":"D"},{"type":"NumericLiteral","value":2}]}}]}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"distAB"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"sqrt"}},"arguments":[{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},{"type":"NumericLiteral","value":2}]},"operator":"+","right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"pow"}},"arguments":[{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},{"type":"NumericLiteral","value":2}]}}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"W"},"operator":"/","right":{"type":"Identifier","name":"distAB"}}}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta1"},"init":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}}},"operator":"-","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}}}}}],"kind":"let"},{"type":"SwitchStatement","discriminant":{"type":"BooleanLiteral","value":true},"cases":[{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta1"},"right":{"type":"NumericLiteral","value":1}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta1"},"operator":">=","right":{"type":"NumericLiteral","value":0}}},{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta1"},"right":{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta1"},"operator":"<","right":{"type":"NumericLiteral","value":0}}}]},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"delta2"},"init":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tX"},"operator":"-","right":{"type":"Identifier","name":"sX"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointX"},"operator":"-","right":{"type":"Identifier","name":"sX"}}},"operator":"+","right":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"tY"},"operator":"-","right":{"type":"Identifier","name":"sY"}},"operator":"*","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"pointY"},"operator":"-","right":{"type":"Identifier","name":"sY"}}}}}],"kind":"let"},{"type":"SwitchStatement","discriminant":{"type":"BooleanLiteral","value":true},"cases":[{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta2"},"right":{"type":"NumericLiteral","value":1}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta2"},"operator":">=","right":{"type":"NumericLiteral","value":0}}},{"type":"SwitchCase","consequent":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"delta2"},"right":{"type":"UnaryExpression","operator":"-","prefix":true,"argument":{"type":"NumericLiteral","value":1}}}},{"type":"BreakStatement","label":null}],"test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"delta2"},"operator":"<","right":{"type":"NumericLiteral","value":0}}}]},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"D"},"right":{"type":"BinaryExpression","left":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Math"},"computed":false,"property":{"type":"Identifier","name":"abs"}},"arguments":[{"type":"Identifier","name":"D"}]},"operator":"*","right":{"type":"Identifier","name":"delta1"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"W"},"right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"W"},"operator":"*","right":{"type":"Identifier","name":"delta2"}}}},{"type":"ReturnStatement","argument":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"distances"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"D"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"weights"},"computed":false,"shorthand":false,"value":{"type":"Identifier","name":"W"}}]}}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"startBatch"}},"arguments":[]}},{"type":"ForOfStatement","await":false,"left":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edge"},"init":null}],"kind":"const"},"right":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Object"},"computed":false,"property":{"type":"Identifier","name":"values"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"edges"}},"arguments":[]}]},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"OptionalCallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"data"}},"optional":true,"arguments":[]},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"sY"}}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"source"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"x"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tX"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"y"},"computed":false,"method":false,"shorthand":false,"value":{"type":"Identifier","name":"tY"}}]},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"target"}},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"position"}},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"LogicalExpression","left":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sX"},"operator":"!==","right":{"type":"Identifier","name":"tX"}},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"Identifier","name":"sY"},"operator":"!==","right":{"type":"Identifier","name":"tY"}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sEP"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"sourceEndpoint"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tEP"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"targetEndpoint"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"sourceDir"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"sourceDir"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"edgeData"},"arguments":[{"type":"Identifier","name":"edge"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ArrayPattern","elements":[{"type":"Identifier","name":"pointX"},{"type":"Identifier","name":"pointY"}]},"init":{"type":"ConditionalExpression","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isArchitectureDirectionY"},"arguments":[{"type":"Identifier","name":"sourceDir"}]},"consequent":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","object":{"type":"Identifier","name":"sEP"},"computed":false,"property":{"type":"Identifier","name":"x"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"tEP"},"computed":false,"property":{"type":"Identifier","name":"y"}}]},"alternate":{"type":"ArrayExpression","elements":[{"type":"MemberExpression","object":{"type":"Identifier","name":"tEP"},"computed":false,"property":{"type":"Identifier","name":"x"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"sEP"},"computed":false,"property":{"type":"Identifier","name":"y"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"weights"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"weights"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"distances"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"distances"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getSegmentWeights"},"arguments":[{"type":"Identifier","name":"sEP"},{"type":"Identifier","name":"tEP"},{"type":"Identifier","name":"pointX"},{"type":"Identifier","name":"pointY"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"style"}},"arguments":[{"type":"StringLiteral","value":"segment-distances"},{"type":"Identifier","name":"distances"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edge"},"computed":false,"property":{"type":"Identifier","name":"style"}},"arguments":[{"type":"StringLiteral","value":"segment-weights"},{"type":"Identifier","name":"weights"}]}}],"directives":[]},"alternate":null}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"endBatch"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"run"}},"arguments":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"layout"},"computed":false,"property":{"type":"Identifier","name":"run"}},"arguments":[]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cy"},"computed":false,"property":{"type":"Identifier","name":"ready"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"e"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"log"},"computed":false,"property":{"type":"Identifier","name":"info"}},"arguments":[{"type":"StringLiteral","value":"Ready"},{"type":"Identifier","name":"e"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"resolve"},"arguments":[{"type":"Identifier","name":"cy"}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"draw","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"DrawDefinition"}}}},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":true,"params":[{"type":"Identifier","name":"text"},{"type":"Identifier","name":"id"},{"type":"Identifier","name":"_version"},{"type":"Identifier","name":"diagObj","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"Diagram"}}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"db"},"init":{"type":"TSAsExpression","expression":{"type":"MemberExpression","object":{"type":"Identifier","name":"diagObj"},"computed":false,"property":{"type":"Identifier","name":"db"}},"typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"ArchitectureDB"}}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"services"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getServices"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"junctions"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getJunctions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groups"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getGroups"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edges"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getEdges"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ds"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"db"},"computed":false,"property":{"type":"Identifier","name":"getDataStructures"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"svg","typeAnnotation":{"type":"TSTypeAnnotation","typeAnnotation":{"type":"TSTypeReference","typeName":{"type":"Identifier","name":"SVG"}}}},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"selectSvgElement"},"arguments":[{"type":"Identifier","name":"id"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"edgesElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"edgesElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-edges"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"servicesElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"servicesElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-services"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"groupElem"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"svg"},"computed":false,"property":{"type":"Identifier","name":"append"}},"arguments":[{"type":"StringLiteral","value":"g"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"groupElem"},"computed":false,"property":{"type":"Identifier","name":"attr"}},"arguments":[{"type":"StringLiteral","value":"class"},{"type":"StringLiteral","value":"architecture-groups"}]}},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawServices"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"servicesElem"},{"type":"Identifier","name":"services"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawJunctions"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"servicesElem"},{"type":"Identifier","name":"junctions"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cy"},"init":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"layoutArchitecture"},"arguments":[{"type":"Identifier","name":"services"},{"type":"Identifier","name":"junctions"},{"type":"Identifier","name":"groups"},{"type":"Identifier","name":"edges"},{"type":"Identifier","name":"db"},{"type":"Identifier","name":"ds"}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawEdges"},"arguments":[{"type":"Identifier","name":"edgesElem"},{"type":"Identifier","name":"cy"}]}}},{"type":"ExpressionStatement","expression":{"type":"AwaitExpression","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"drawGroups"},"arguments":[{"type":"Identifier","name":"groupElem"},{"type":"Identifier","name":"cy"}]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"positionNodes"},"arguments":[{"type":"Identifier","name":"db"},{"type":"Identifier","name":"cy"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Identifier","name":"setupGraphViewbox"},"arguments":[{"type":"Identifier","name":"undefined"},{"type":"Identifier","name":"svg"},{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"padding"}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"getConfigField"},"arguments":[{"type":"StringLiteral","value":"useMaxWidth"}]}]}}],"directives":[]}}}],"kind":"const"}},{"type":"ExportNamedDeclaration","exportKind":"value","specifiers":[],"source":null,"declaration":{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"renderer"},"init":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"draw"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"draw"}}]}}],"kind":"const"}}],"directives":[]}}}},"renamedFiles":{"mappings":[],"before":{},"after":{}}}