{"addedFiles":{},"deletedFiles":{},"modifiedFiles":{"before":{"lib/node/ReadFileCompileAsyncWasmPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../ModuleTypeConstants"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/AsyncWasmLoadingRuntimeModule"}]}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","left":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"AssignmentPattern","left":{"type":"Identifier","name":"type"},"right":{"type":"StringLiteral","value":"async-node"}}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"import"},"computed":false,"method":false,"shorthand":false,"value":{"type":"AssignmentPattern","left":{"type":"Identifier","name":"useImport"},"right":{"type":"BooleanLiteral","value":false}}}]},"right":{"type":"ObjectExpression","properties":[]}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_type"}},"right":{"type":"Identifier","name":"type"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"right":{"type":"Identifier","name":"useImport"}}}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"thisCompilation"}},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"StringLiteral","value":"ReadFileCompileAsyncWasmPlugin"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compilation"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"globalWasmLoading"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isEnabledForChunk"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"options"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"getEntryOptions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmLoading"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"options"},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"alternate":{"type":"Identifier","name":"globalWasmLoading"}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","left":{"type":"Identifier","name":"wasmLoading"},"operator":"===","right":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_type"}}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"importMetaName"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"importMetaName"}}]},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateLoadBinaryCode"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"consequent":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"Promise.all([import('fs'), import('url')]).then(([{ readFile }, { URL }]) => new Promise((resolve, reject) => {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"},{"type":"Identifier","name":"importMetaName"}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(new URL(","cooked":"readFile(new URL("},"tail":false},{"type":"TemplateElement","value":{"raw":", ","cooked":", "},"tail":false},{"type":"TemplateElement","value":{"raw":".url), (err, buffer) => {","cooked":".url), (err, buffer) => {"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"}))"}]}]}},"alternate":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"new Promise(function (resolve, reject) {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"try {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"var { readFile } = require('fs');"},{"type":"StringLiteral","value":"var { join } = require('path');"},{"type":"StringLiteral","value":""},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(join(__dirname, ","cooked":"readFile(join(__dirname, "},"tail":false},{"type":"TemplateElement","value":{"raw":"), function(err, buffer){","cooked":"), function(err, buffer){"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"} catch (err) { reject(err); }"}]}]},{"type":"StringLiteral","value":"})"}]}]}}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"runtimeRequirementInTree"}},"computed":false,"property":{"type":"Identifier","name":"for"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}]},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"StringLiteral","value":"ReadFileCompileAsyncWasmPlugin"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"},{"type":"Identifier","name":"set"},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"chunkGraph"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"chunkGraph"}}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEnabledForChunk"},"arguments":[{"type":"Identifier","name":"chunk"}]}},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunkGraph"},"computed":false,"property":{"type":"Identifier","name":"hasModuleInGraph"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"m"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"m"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"set"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"publicPath"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"addRuntimeModule"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"NewExpression","callee":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}}]}]}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm/EnableWasmLoadingPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabledTypes"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"WeakMap"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEnabledTypes"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"set"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"get"}},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"let"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"set"},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"set"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Set"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"set"}]}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"set"}}],"directives":[]}}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"EnableWasmLoadingPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"type"}}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"setEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"checkEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Library type \"","cooked":"Library type \""},"tail":false},{"type":"TemplateElement","value":{"raw":"\" is not enabled. ","cooked":"\" is not enabled. "},"tail":true}]},"operator":"+","right":{"type":"StringLiteral","value":"EnableWasmLoadingPlugin need to be used to enable this type of wasm loading. "}},"operator":"+","right":{"type":"StringLiteral","value":"This usually happens through the \"output.enabledWasmLoadingTypes\" option. "}},"operator":"+","right":{"type":"StringLiteral","value":"If you are using a function as entry which sets \"wasmLoading\", you need to add all potential library types to \"output.enabledWasmLoadingTypes\". "}},"operator":"+","right":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Array"},"computed":false,"property":{"type":"Identifier","name":"from"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}]},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":", "}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"These types are enabled: ","cooked":"These types are enabled: "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]},"init":{"type":"ThisExpression"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabled"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"UnaryExpression","operator":"typeof","prefix":true,"argument":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"string"}},"consequent":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"Identifier","name":"type"},"cases":[{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileWasmPlugin"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"fetch"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileWasmPlugin"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"import"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"dynamicImport"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node-module"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"StringLiteral","value":"Universal WebAssembly Loading is not implemented yet"}]}}],"test":{"type":"StringLiteral","value":"universal"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Unsupported wasm loading type ","cooked":"Unsupported wasm loading type "},"tail":false},{"type":"TemplateElement","value":{"raw":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error.","cooked":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error."},"tail":true}]}]}}],"test":null}]}],"directives":[]},"alternate":{"type":"BlockStatement","body":[],"directives":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"EnableWasmLoadingPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}}},"after":{"lib/node/ReadFileCompileAsyncWasmPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../ModuleTypeConstants"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/AsyncWasmLoadingRuntimeModule"}]}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","left":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"AssignmentPattern","left":{"type":"Identifier","name":"type"},"right":{"type":"StringLiteral","value":"async-node"}}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"import"},"computed":false,"method":false,"shorthand":false,"value":{"type":"AssignmentPattern","left":{"type":"Identifier","name":"useImport"},"right":{"type":"BooleanLiteral","value":false}}}]},"right":{"type":"ObjectExpression","properties":[]}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_type"}},"right":{"type":"Identifier","name":"type"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"right":{"type":"Identifier","name":"useImport"}}}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"thisCompilation"}},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"StringLiteral","value":"ReadFileCompileAsyncWasmPlugin"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compilation"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"globalWasmLoading"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isEnabledForChunk"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"options"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"getEntryOptions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmLoading"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"options"},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"alternate":{"type":"Identifier","name":"globalWasmLoading"}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","left":{"type":"Identifier","name":"wasmLoading"},"operator":"===","right":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_type"}}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateLoadBinaryCode"},"init":{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"consequent":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"Promise.all([import('fs'), import('url')]).then(([{ readFile }, { URL }]) => new Promise((resolve, reject) => {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"},{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"importMetaName"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(new URL(","cooked":"readFile(new URL("},"tail":false},{"type":"TemplateElement","value":{"raw":", ","cooked":", "},"tail":false},{"type":"TemplateElement","value":{"raw":".url), (err, buffer) => {","cooked":".url), (err, buffer) => {"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"}))"}]}]}},"alternate":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"new Promise(function (resolve, reject) {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"try {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"var { readFile } = require('fs');"},{"type":"StringLiteral","value":"var { join } = require('path');"},{"type":"StringLiteral","value":""},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(join(__dirname, ","cooked":"readFile(join(__dirname, "},"tail":false},{"type":"TemplateElement","value":{"raw":"), function(err, buffer){","cooked":"), function(err, buffer){"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"} catch (err) { reject(err); }"}]}]},{"type":"StringLiteral","value":"})"}]}]}}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"runtimeRequirementInTree"}},"computed":false,"property":{"type":"Identifier","name":"for"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}]},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"StringLiteral","value":"ReadFileCompileAsyncWasmPlugin"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"},{"type":"Identifier","name":"set"},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"chunkGraph"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"chunkGraph"}}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEnabledForChunk"},"arguments":[{"type":"Identifier","name":"chunk"}]}},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunkGraph"},"computed":false,"property":{"type":"Identifier","name":"hasModuleInGraph"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"m"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"m"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"addRuntimeModule"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"NewExpression","callee":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}}]}]}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm/EnableWasmLoadingPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabledTypes"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"WeakMap"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEnabledTypes"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"set"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"get"}},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"let"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"set"},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"set"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Set"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"set"}]}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"set"}}],"directives":[]}}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"EnableWasmLoadingPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"type"}}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"setEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"checkEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Library type \"","cooked":"Library type \""},"tail":false},{"type":"TemplateElement","value":{"raw":"\" is not enabled. ","cooked":"\" is not enabled. "},"tail":true}]},"operator":"+","right":{"type":"StringLiteral","value":"EnableWasmLoadingPlugin need to be used to enable this type of wasm loading. "}},"operator":"+","right":{"type":"StringLiteral","value":"This usually happens through the \"output.enabledWasmLoadingTypes\" option. "}},"operator":"+","right":{"type":"StringLiteral","value":"If you are using a function as entry which sets \"wasmLoading\", you need to add all potential library types to \"output.enabledWasmLoadingTypes\". "}},"operator":"+","right":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Array"},"computed":false,"property":{"type":"Identifier","name":"from"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}]},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":", "}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"These types are enabled: ","cooked":"These types are enabled: "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]},"init":{"type":"ThisExpression"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabled"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"UnaryExpression","operator":"typeof","prefix":true,"argument":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"string"}},"consequent":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"Identifier","name":"type"},"cases":[{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileWasmPlugin"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"fetch"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileWasmPlugin"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"import"},"computed":false,"shorthand":false,"value":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"module"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"dynamicImport"}}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node-module"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"StringLiteral","value":"Universal WebAssembly Loading is not implemented yet"}]}}],"test":{"type":"StringLiteral","value":"universal"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Unsupported wasm loading type ","cooked":"Unsupported wasm loading type "},"tail":false},{"type":"TemplateElement","value":{"raw":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error.","cooked":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error."},"tail":true}]}]}}],"test":null}]}],"directives":[]},"alternate":{"type":"BlockStatement","body":[],"directives":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"EnableWasmLoadingPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}}}},"renamedFiles":{"mappings":[],"before":{},"after":{}}}