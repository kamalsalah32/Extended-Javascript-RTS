{"addedFiles":{},"deletedFiles":{},"modifiedFiles":{"before":{"lib/wasm-async/AsyncWasmLoadingRuntimeModule.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeModule"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"superClass":{"type":"Identifier","name":"RuntimeModule"},"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"supportsStreaming"}}]}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Super"},"arguments":[{"type":"StringLiteral","value":"wasm loading"},{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeModule"},"computed":false,"property":{"type":"Identifier","name":"STAGE_NORMAL"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateLoadBinaryCode"}},"right":{"type":"Identifier","name":"generateLoadBinaryCode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"right":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"supportsStreaming"}},"right":{"type":"Identifier","name":"supportsStreaming"}}}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"generate"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"compilation"},"init":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"compilation"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunk"},"init":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"chunk"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"outputOptions"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"outputOptions"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"runtimeTemplate"}}]},"init":{"type":"Identifier","name":"compilation"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fn"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmModuleSrcPath"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"getPath"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"JSON"},"computed":false,"property":{"type":"Identifier","name":"stringify"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"outputOptions"},"computed":false,"property":{"type":"Identifier","name":"webassemblyModuleFilename"}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hash"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"getFullHash"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + ","cooked":"\" + "},"tail":false},{"type":"TemplateElement","value":{"raw":"() + \"","cooked":"() + \""},"tail":true}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hashWithLength"},"computed":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"length"}],"body":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"getFullHash"}},{"type":"Identifier","name":"length"}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + ","cooked":"\" + "},"tail":false},{"type":"TemplateElement","value":{"raw":"}().slice(0, ","cooked":"}().slice(0, "},"tail":false},{"type":"TemplateElement","value":{"raw":") + \"","cooked":") + \""},"tail":true}]}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"module"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"\" + wasmModuleId + \""}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hash"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"\" + wasmModuleHash + \""}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"hashWithLength"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"length"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"length"}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + wasmModuleHash.slice(0, ","cooked":"\" + wasmModuleHash.slice(0, "},"tail":false},{"type":"TemplateElement","value":{"raw":") + \"","cooked":") + \""},"tail":true}]}}],"directives":[]}}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"runtime"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"runtime"}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loader"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fallback"},"init":{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"x.arrayBuffer()"},{"type":"StringLiteral","value":"x"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"WebAssembly.instantiate(bytes, importsObj)"},{"type":"StringLiteral","value":"bytes"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"Object.assign(exports, res.instance.exports)"},{"type":"StringLiteral","value":"res"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getStreaming"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"concat"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"RestElement","argument":{"type":"Identifier","name":"text"}}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"text"},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":""}]}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"ArrayExpression","elements":[{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]},"alternate":{"type":"StringLiteral","value":""}},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"loader"}],"quasis":[{"type":"TemplateElement","value":{"raw":"var req = ","cooked":"var req = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"req"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"Identifier","name":"fallback"}]}]}]}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"var fallback = ","cooked":"var fallback = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"concat"},"arguments":[{"type":"StringLiteral","value":"return req.then("},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"res"},{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (typeof WebAssembly.instantiateStreaming === \"function\") {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"return WebAssembly.instantiateStreaming(res, importsObj)"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":".then("},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"Object.assign(exports, res.instance.exports)"},{"type":"StringLiteral","value":"res"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":",","cooked":","},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"e"},{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if(res.headers.get(\"Content-Type\") !== \"application/wasm\") {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);"},{"type":"StringLiteral","value":"return fallback();"}]}]},{"type":"StringLiteral","value":"}"},{"type":"StringLiteral","value":"throw e;"}]}]}]}]},{"type":"StringLiteral","value":");"}]}]}]}]},{"type":"StringLiteral","value":"}"},{"type":"StringLiteral","value":"return fallback();"}]}]},{"type":"StringLiteral","value":");"}]}]}}],"directives":[]}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"fn"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"exports, wasmModuleId, wasmModuleHash, importsObj"},{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"supportsStreaming"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"getStreaming"},"arguments":[]},"alternate":{"type":"ArrayExpression","elements":[{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]},"alternate":{"type":"StringLiteral","value":""}},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"loader"}],"quasis":[{"type":"TemplateElement","value":{"raw":"return ","cooked":"return "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"Identifier","name":"fallback"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}]}}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":" = ","cooked":" = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm-async/UniversalCompileAsyncWasmPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../ModuleTypeConstants"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/AsyncWasmLoadingRuntimeModule"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"PLUGIN_NAME"},"init":{"type":"StringLiteral","value":"UniversalCompileAsyncWasmPlugin"}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","left":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"import"},"computed":false,"method":false,"shorthand":false,"value":{"type":"AssignmentPattern","left":{"type":"Identifier","name":"useImport"},"right":{"type":"BooleanLiteral","value":false}}}]},"right":{"type":"ObjectExpression","properties":[]}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"right":{"type":"Identifier","name":"useImport"}}}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"thisCompilation"}},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"Identifier","name":"PLUGIN_NAME"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compilation"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"globalWasmLoading"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isEnabledForChunk"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"options"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"getEntryOptions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmLoading"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"options"},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"alternate":{"type":"Identifier","name":"globalWasmLoading"}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","left":{"type":"Identifier","name":"wasmLoading"},"operator":"===","right":{"type":"StringLiteral","value":"universal"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"var useFetch = ","cooked":"var useFetch = "},"tail":false},{"type":"TemplateElement","value":{"raw":".document || ","cooked":".document || "},"tail":false},{"type":"TemplateElement","value":{"raw":".self;","cooked":".self;"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"}],"quasis":[{"type":"TemplateElement","value":{"raw":"var wasmUrl = ","cooked":"var wasmUrl = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}]}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateLoadBinaryCode"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"(useFetch"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"importMetaName"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"? fetch(new URL(wasmUrl, ","cooked":"? fetch(new URL(wasmUrl, "},"tail":false},{"type":"TemplateElement","value":{"raw":".url))","cooked":".url))"},"tail":true}]}]}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":": Promise.all([import('fs'), import('url')]).then(([{ readFile }, { URL }]) => new Promise((resolve, reject) => {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"importMetaName"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(new URL(wasmUrl, ","cooked":"readFile(new URL(wasmUrl, "},"tail":false},{"type":"TemplateElement","value":{"raw":".url), (err, buffer) => {","cooked":".url), (err, buffer) => {"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"})))"}]}]}]}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"runtimeRequirementInTree"}},"computed":false,"property":{"type":"Identifier","name":"for"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}]},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"Identifier","name":"PLUGIN_NAME"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"},{"type":"Identifier","name":"set"},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"chunkGraph"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"chunkGraph"}}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEnabledForChunk"},"arguments":[{"type":"Identifier","name":"chunk"}]}},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunkGraph"},"computed":false,"property":{"type":"Identifier","name":"hasModuleInGraph"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"m"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"m"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"set"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}}]}},{"type":"IfStatement","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"_import"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"set"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"baseURI"}}]}}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"addRuntimeModule"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"NewExpression","callee":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":false}}]}]}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm/EnableWasmLoadingPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabledTypes"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"WeakMap"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEnabledTypes"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"set"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"get"}},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"let"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"set"},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"set"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Set"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"set"}]}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"set"}}],"directives":[]}}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"EnableWasmLoadingPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"type"}}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"setEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"checkEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Library type \"","cooked":"Library type \""},"tail":false},{"type":"TemplateElement","value":{"raw":"\" is not enabled. ","cooked":"\" is not enabled. "},"tail":true}]},"operator":"+","right":{"type":"StringLiteral","value":"EnableWasmLoadingPlugin need to be used to enable this type of wasm loading. "}},"operator":"+","right":{"type":"StringLiteral","value":"This usually happens through the \"output.enabledWasmLoadingTypes\" option. "}},"operator":"+","right":{"type":"StringLiteral","value":"If you are using a function as entry which sets \"wasmLoading\", you need to add all potential library types to \"output.enabledWasmLoadingTypes\". "}},"operator":"+","right":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Array"},"computed":false,"property":{"type":"Identifier","name":"from"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}]},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":", "}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"These types are enabled: ","cooked":"These types are enabled: "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]},"init":{"type":"ThisExpression"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabled"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"UnaryExpression","operator":"typeof","prefix":true,"argument":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"string"}},"consequent":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"Identifier","name":"type"},"cases":[{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"fetch"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"import"},"computed":false,"shorthand":false,"value":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"module"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"dynamicImport"}}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node-module"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/UniversalCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"import"},"computed":false,"shorthand":false,"value":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"module"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"dynamicImport"}}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"universal"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Unsupported wasm loading type ","cooked":"Unsupported wasm loading type "},"tail":false},{"type":"TemplateElement","value":{"raw":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error.","cooked":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error."},"tail":true}]}]}}],"test":null}]}],"directives":[]},"alternate":{"type":"BlockStatement","body":[],"directives":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"EnableWasmLoadingPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}}},"after":{"lib/wasm-async/AsyncWasmLoadingRuntimeModule.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeModule"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"superClass":{"type":"Identifier","name":"RuntimeModule"},"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"supportsStreaming"}}]}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"Super"},"arguments":[{"type":"StringLiteral","value":"wasm loading"},{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeModule"},"computed":false,"property":{"type":"Identifier","name":"STAGE_NORMAL"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateLoadBinaryCode"}},"right":{"type":"Identifier","name":"generateLoadBinaryCode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"right":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}},"right":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"supportsStreaming"}},"right":{"type":"Identifier","name":"supportsStreaming"}}}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"generate"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"compilation"},"init":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"compilation"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"chunk"},"init":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"chunk"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"outputOptions"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"outputOptions"}},{"type":"ObjectProperty","key":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"runtimeTemplate"}}]},"init":{"type":"Identifier","name":"compilation"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fn"},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmModuleSrcPath"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"getPath"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"JSON"},"computed":false,"property":{"type":"Identifier","name":"stringify"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"outputOptions"},"computed":false,"property":{"type":"Identifier","name":"webassemblyModuleFilename"}}]},{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hash"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"getFullHash"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + ","cooked":"\" + "},"tail":false},{"type":"TemplateElement","value":{"raw":"() + \"","cooked":"() + \""},"tail":true}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hashWithLength"},"computed":false,"shorthand":false,"value":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"length"}],"body":{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"getFullHash"}},{"type":"Identifier","name":"length"}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + ","cooked":"\" + "},"tail":false},{"type":"TemplateElement","value":{"raw":"}().slice(0, ","cooked":"}().slice(0, "},"tail":false},{"type":"TemplateElement","value":{"raw":") + \"","cooked":") + \""},"tail":true}]}}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"module"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"id"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"\" + wasmModuleId + \""}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"hash"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","value":"\" + wasmModuleHash + \""}},{"type":"ObjectMethod","method":true,"key":{"type":"Identifier","name":"hashWithLength"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"length"}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"length"}],"quasis":[{"type":"TemplateElement","value":{"raw":"\" + wasmModuleHash.slice(0, ","cooked":"\" + wasmModuleHash.slice(0, "},"tail":false},{"type":"TemplateElement","value":{"raw":") + \"","cooked":") + \""},"tail":true}]}}],"directives":[]}}]}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"runtime"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"runtime"}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loader"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fallback"},"init":{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"x.arrayBuffer()"},{"type":"StringLiteral","value":"x"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"WebAssembly.instantiate(bytes, importsObj)"},{"type":"StringLiteral","value":"bytes"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"Object.assign(exports, res.instance.exports)"},{"type":"StringLiteral","value":"res"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":".then(","cooked":".then("},"tail":false},{"type":"TemplateElement","value":{"raw":")","cooked":")"},"tail":true}]}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getStreaming"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"concat"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"RestElement","argument":{"type":"Identifier","name":"text"}}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"text"},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":""}]}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"ArrayExpression","elements":[{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]},"alternate":{"type":"StringLiteral","value":""}},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"loader"}],"quasis":[{"type":"TemplateElement","value":{"raw":"var req = ","cooked":"var req = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"req"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"Identifier","name":"fallback"}]}]}]}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"var fallback = ","cooked":"var fallback = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]},{"type":"CallExpression","callee":{"type":"Identifier","name":"concat"},"arguments":[{"type":"StringLiteral","value":"return req.then("},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"res"},{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (typeof WebAssembly.instantiateStreaming === \"function\") {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}},"arguments":[]},"alternate":{"type":"StringLiteral","value":""}}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"return WebAssembly.instantiateStreaming(res, importsObj)"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":".then("},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"returningFunction"}},"arguments":[{"type":"StringLiteral","value":"Object.assign(exports, res.instance.exports)"},{"type":"StringLiteral","value":"res"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":",","cooked":","},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"e"},{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if(res.headers.get(\"Content-Type\") !== \"application/wasm\") {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);"},{"type":"StringLiteral","value":"return fallback();"}]}]},{"type":"StringLiteral","value":"}"},{"type":"StringLiteral","value":"throw e;"}]}]}]}]},{"type":"StringLiteral","value":");"}]}]}]}]},{"type":"StringLiteral","value":"}"},{"type":"StringLiteral","value":"return fallback();"}]}]},{"type":"StringLiteral","value":");"}]}]}}],"directives":[]}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"fn"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"runtimeTemplate"},"computed":false,"property":{"type":"Identifier","name":"basicFunction"}},"arguments":[{"type":"StringLiteral","value":"exports, wasmModuleId, wasmModuleHash, importsObj"},{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"supportsStreaming"}},"consequent":{"type":"CallExpression","callee":{"type":"Identifier","name":"getStreaming"},"arguments":[]},"alternate":{"type":"ArrayExpression","elements":[{"type":"ConditionalExpression","test":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"consequent":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},"arguments":[{"type":"Identifier","name":"wasmModuleSrcPath"}]},"alternate":{"type":"StringLiteral","value":""}},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"loader"}],"quasis":[{"type":"TemplateElement","value":{"raw":"return ","cooked":"return "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"Identifier","name":"fallback"}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}]}}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":" = ","cooked":" = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm-async/UniversalCompileAsyncWasmPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}]},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../ModuleTypeConstants"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"RuntimeGlobals"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../RuntimeGlobals"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"Template"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../Template"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/AsyncWasmLoadingRuntimeModule"}]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"PLUGIN_NAME"},"init":{"type":"StringLiteral","value":"UniversalCompileAsyncWasmPlugin"}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"thisCompilation"}},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"Identifier","name":"PLUGIN_NAME"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compilation"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"globalWasmLoading"},"init":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"isEnabledForChunk"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"options"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunk"},"computed":false,"property":{"type":"Identifier","name":"getEntryOptions"}},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"wasmLoading"},"init":{"type":"ConditionalExpression","test":{"type":"LogicalExpression","left":{"type":"Identifier","name":"options"},"operator":"&&","right":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"operator":"!==","right":{"type":"Identifier","name":"undefined"}}},"consequent":{"type":"MemberExpression","object":{"type":"Identifier","name":"options"},"computed":false,"property":{"type":"Identifier","name":"wasmLoading"}},"alternate":{"type":"Identifier","name":"globalWasmLoading"}}}],"kind":"const"},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","left":{"type":"Identifier","name":"wasmLoading"},"operator":"===","right":{"type":"StringLiteral","value":"universal"}}}],"directives":[]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (!useFetch) {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"return fallback();"}]}]},{"type":"StringLiteral","value":"}"}]}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"path"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}},{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"var useFetch = ","cooked":"var useFetch = "},"tail":false},{"type":"TemplateElement","value":{"raw":".document || ","cooked":".document || "},"tail":false},{"type":"TemplateElement","value":{"raw":".self;","cooked":".self;"},"tail":true}]},{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"path"}],"quasis":[{"type":"TemplateElement","value":{"raw":"var wasmUrl = ","cooked":"var wasmUrl = "},"tail":false},{"type":"TemplateElement","value":{"raw":";","cooked":";"},"tail":true}]}]}]}}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"generateLoadBinaryCode"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"asString"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"(useFetch"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"importMetaName"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"? fetch(new URL(wasmUrl, ","cooked":"? fetch(new URL(wasmUrl, "},"tail":false},{"type":"TemplateElement","value":{"raw":".url))","cooked":".url))"},"tail":true}]}]}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":": Promise.all([import('fs'), import('url')]).then(([{ readFile }, { URL }]) => new Promise((resolve, reject) => {"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"TemplateLiteral","expressions":[{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"outputOptions"}},"computed":false,"property":{"type":"Identifier","name":"importMetaName"}}],"quasis":[{"type":"TemplateElement","value":{"raw":"readFile(new URL(wasmUrl, ","cooked":"readFile(new URL(wasmUrl, "},"tail":false},{"type":"TemplateElement","value":{"raw":".url), (err, buffer) => {","cooked":".url), (err, buffer) => {"},"tail":true}]},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"if (err) return reject(err);"},{"type":"StringLiteral","value":""},{"type":"StringLiteral","value":"// Fake fetch response"},{"type":"StringLiteral","value":"resolve({"},{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Template"},"computed":false,"property":{"type":"Identifier","name":"indent"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"StringLiteral","value":"arrayBuffer() { return buffer; }"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"});"}]}]},{"type":"StringLiteral","value":"})))"}]}]}]}]}}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"hooks"}},"computed":false,"property":{"type":"Identifier","name":"runtimeRequirementInTree"}},"computed":false,"property":{"type":"Identifier","name":"for"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"instantiateWasm"}}]},"computed":false,"property":{"type":"Identifier","name":"tap"}},"arguments":[{"type":"Identifier","name":"PLUGIN_NAME"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"chunk"},{"type":"Identifier","name":"set"},{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"chunkGraph"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"chunkGraph"}}]}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"isEnabledForChunk"},"arguments":[{"type":"Identifier","name":"chunk"}]}},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"chunkGraph"},"computed":false,"property":{"type":"Identifier","name":"hasModuleInGraph"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"m"}],"body":{"type":"BinaryExpression","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"m"},"computed":false,"property":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"Identifier","name":"WEBASSEMBLY_MODULE_TYPE_ASYNC"}}}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":null}],"directives":[]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"set"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"RuntimeGlobals"},"computed":false,"property":{"type":"Identifier","name":"global"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"compilation"},"computed":false,"property":{"type":"Identifier","name":"addRuntimeModule"}},"arguments":[{"type":"Identifier","name":"chunk"},{"type":"NewExpression","callee":{"type":"Identifier","name":"AsyncWasmLoadingRuntimeModule"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateLoadBinaryCode"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateLoadBinaryCode"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"generateBeforeInstantiateStreaming"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"supportsStreaming"},"computed":false,"shorthand":false,"value":{"type":"BooleanLiteral","value":true}}]}]}]}}],"directives":[]}}]}}],"directives":[]}}]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}},"lib/wasm/EnableWasmLoadingPlugin.js":{"type":"File","errors":[],"program":{"type":"Program","sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabledTypes"},"init":{"type":"NewExpression","callee":{"type":"Identifier","name":"WeakMap"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"getEnabledTypes"},"init":{"type":"ArrowFunctionExpression","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"set"},"init":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"get"}},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"let"},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"Identifier","name":"set"},"operator":"===","right":{"type":"Identifier","name":"undefined"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"Identifier","name":"set"},"right":{"type":"NewExpression","callee":{"type":"Identifier","name":"Set"},"arguments":[]}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabledTypes"},"computed":false,"property":{"type":"Identifier","name":"set"}},"arguments":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"set"}]}}],"directives":[]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"set"}}],"directives":[]}}}],"kind":"const"},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"EnableWasmLoadingPlugin"},"superClass":null,"body":{"type":"ClassBody","body":[{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"constructor"},"computed":false,"kind":"constructor","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"computed":false,"property":{"type":"Identifier","name":"type"}},"right":{"type":"Identifier","name":"type"}}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"setEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}}],"directives":[]}},{"type":"ClassMethod","static":true,"key":{"type":"Identifier","name":"checkEnabled"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"},{"type":"Identifier","name":"type"}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","prefix":true,"argument":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"BinaryExpression","left":{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Library type \"","cooked":"Library type \""},"tail":false},{"type":"TemplateElement","value":{"raw":"\" is not enabled. ","cooked":"\" is not enabled. "},"tail":true}]},"operator":"+","right":{"type":"StringLiteral","value":"EnableWasmLoadingPlugin need to be used to enable this type of wasm loading. "}},"operator":"+","right":{"type":"StringLiteral","value":"This usually happens through the \"output.enabledWasmLoadingTypes\" option. "}},"operator":"+","right":{"type":"StringLiteral","value":"If you are using a function as entry which sets \"wasmLoading\", you need to add all potential library types to \"output.enabledWasmLoadingTypes\". "}},"operator":"+","right":{"type":"TemplateLiteral","expressions":[{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Array"},"computed":false,"property":{"type":"Identifier","name":"from"}},"arguments":[{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}]},"computed":false,"property":{"type":"Identifier","name":"join"}},"arguments":[{"type":"StringLiteral","value":", "}]}],"quasis":[{"type":"TemplateElement","value":{"raw":"These types are enabled: ","cooked":"These types are enabled: "},"tail":false},{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":true}]}}]}}],"directives":[]},"alternate":null}],"directives":[]}},{"type":"ClassMethod","static":false,"key":{"type":"Identifier","name":"apply"},"computed":false,"kind":"method","id":null,"generator":false,"async":false,"params":[{"type":"Identifier","name":"compiler"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"ObjectPattern","properties":[{"type":"ObjectProperty","key":{"type":"Identifier","name":"type"},"computed":false,"method":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]},"init":{"type":"ThisExpression"}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"enabled"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"getEnabledTypes"},"arguments":[{"type":"Identifier","name":"compiler"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"has"}},"arguments":[{"type":"Identifier","name":"type"}]},"consequent":{"type":"ReturnStatement","argument":null},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"enabled"},"computed":false,"property":{"type":"Identifier","name":"add"}},"arguments":[{"type":"Identifier","name":"type"}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","left":{"type":"UnaryExpression","operator":"typeof","prefix":true,"argument":{"type":"Identifier","name":"type"}},"operator":"===","right":{"type":"StringLiteral","value":"string"}},"consequent":{"type":"BlockStatement","body":[{"type":"SwitchStatement","discriminant":{"type":"Identifier","name":"type"},"cases":[{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../web/FetchCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"FetchCompileAsyncWasmPlugin"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"fetch"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"mangleImports"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"optimization"}},"computed":false,"property":{"type":"Identifier","name":"mangleWasmImports"}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../node/ReadFileCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"ReadFileCompileAsyncWasmPlugin"},"arguments":[{"type":"ObjectExpression","properties":[{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"type"},"computed":false,"shorthand":true,"value":{"type":"Identifier","name":"type"}},{"type":"ObjectProperty","method":false,"key":{"type":"Identifier","name":"import"},"computed":false,"shorthand":false,"value":{"type":"LogicalExpression","left":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"module"}},"operator":"&&","right":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"compiler"},"computed":false,"property":{"type":"Identifier","name":"options"}},"computed":false,"property":{"type":"Identifier","name":"output"}},"computed":false,"property":{"type":"Identifier","name":"environment"}},"computed":false,"property":{"type":"Identifier","name":"dynamicImport"}}}}]}]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"async-node-module"}},{"type":"SwitchCase","consequent":[{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"require"},"arguments":[{"type":"StringLiteral","value":"../wasm-async/UniversalCompileAsyncWasmPlugin"}]}}],"kind":"const"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","object":{"type":"NewExpression","callee":{"type":"Identifier","name":"UniversalCompileAsyncWasmPlugin"},"arguments":[]},"computed":false,"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"Identifier","name":"compiler"}]}},{"type":"BreakStatement","label":null}],"directives":[]}],"test":{"type":"StringLiteral","value":"universal"}},{"type":"SwitchCase","consequent":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"TemplateLiteral","expressions":[{"type":"Identifier","name":"type"}],"quasis":[{"type":"TemplateElement","value":{"raw":"Unsupported wasm loading type ","cooked":"Unsupported wasm loading type "},"tail":false},{"type":"TemplateElement","value":{"raw":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error.","cooked":".\nPlugins which provide custom wasm loading types must call EnableWasmLoadingPlugin.setEnabled(compiler, type) to disable this error."},"tail":true}]}]}}],"test":null}]}],"directives":[]},"alternate":{"type":"BlockStatement","body":[],"directives":[]}}],"directives":[]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","left":{"type":"MemberExpression","object":{"type":"Identifier","name":"module"},"computed":false,"property":{"type":"Identifier","name":"exports"}},"right":{"type":"Identifier","name":"EnableWasmLoadingPlugin"}}}],"directives":[{"type":"Directive","value":{"type":"DirectiveLiteral","value":"use strict"}}]}}}},"renamedFiles":{"mappings":[],"before":{},"after":{}}}